/*
 ? 2014 Second Street, MIT License <http://opensource.org/licenses/MIT>
 Talker.js 1.0.1 <http://github.com/secondstreet/talker.js>
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.owns=function(b,k){return Object.prototype.hasOwnProperty.call(b,k)};$jscomp.assign="function"==typeof Object.assign?Object.assign:function(b,k){for(var e=1;e<arguments.length;e++){var c=arguments[e];if(c)for(var n in c)$jscomp.owns(c,n)&&(b[n]=c[n])}return b};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,k,e){b!=Array.prototype&&b!=Object.prototype&&(b[k]=e.value)};$jscomp.getGlobal=function(b){b=["object"==typeof globalThis&&globalThis,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,b];for(var k=0;k<b.length;++k){var e=b[k];if(e&&e.Math==Math)return e}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(b,k,e,c){if(k){e=$jscomp.global;b=b.split(".");for(c=0;c<b.length-1;c++){var n=b[c];n in e||(e[n]={});e=e[n]}b=b[b.length-1];c=e[b];k=k(c);k!=c&&null!=k&&$jscomp.defineProperty(e,b,{configurable:!0,writable:!0,value:k})}};$jscomp.polyfill("Object.assign",function(b){return b||$jscomp.assign},"es6","es3");$jscomp.arrayIteratorImpl=function(b){var k=0;return function(){return k<b.length?{done:!1,value:b[k++]}:{done:!0}}};$jscomp.arrayIterator=function(b){return{next:$jscomp.arrayIteratorImpl(b)}};
$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.SymbolClass=function(b,k){this.$jscomp$symbol$id_=b;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:k})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};
$jscomp.Symbol=function(){function b(e){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(e||"")+"_"+k++,e)}var k=0;return b}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.iterator;b||(b=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[b]&&$jscomp.defineProperty(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.asyncIterator;b||(b=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();b={next:b};b[$jscomp.global.Symbol.iterator]=function(){return this};return b};
$jscomp.iteratorFromArray=function(b,k){$jscomp.initSymbolIterator();b instanceof String&&(b+="");var e=0,c={next:function(){if(e<b.length){var n=e++;return{value:k(n,b[n]),done:!1}}c.next=function(){return{done:!0,value:void 0}};return c.next()}};c[Symbol.iterator]=function(){return c};return c};$jscomp.polyfill("Array.prototype.keys",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6","es3");var Antavo={};
(function(){function b(c,n){"function"!=typeof Object.assign&&(Object.assign=function(b){if(null==b)throw new TypeError("Cannot convert undefined or null to object");b=Object(b);for(var c=1;c<arguments.length;c++){var l=arguments[c];if(null!=l)for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(b[f]=l[f])}return b});n=Object.assign({},n);if(null===n||void 0===n||n===c)return c;if(null===c||void 0===c)return n;for(var f in c)c.hasOwnProperty(f)&&(n[f]=null===c[f]?c[f]:"object"!==typeof c[f]||
c[f]instanceof Date||c[f]instanceof Array?c[f]:b(c[f],n[f]));return n}function k(b,n){var c=[],q;for(q in b)if(b.hasOwnProperty(q)){var h=n?n+"["+q+"]":q;var l=b[q];c.push("object"==typeof l?k(l,h):e(h)+"="+e(l))}return c.join("&")}var e=encodeURIComponent;Antavo.isIE=function(){return-1!=navigator.userAgent.indexOf("MSIE")||0<navigator.appVersion.indexOf("Trident/")};Antavo.isEdge=function(){return 0<navigator.appVersion.indexOf("Edge")};Antavo.serialize=k;Antavo.isMobile=function(){return{Android:function(){return navigator.userAgent.match(/Android/i)},
BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return this.Android()||this.BlackBerry()||this.iOS()||this.Opera()||this.Windows()}}};Antavo.merge=b})();Antavo=window.Antavo||{};
(function(b){function k(b,n){return(b.matches||b.matchesSelector||b.msMatchesSelector||b.mozMatchesSelector||b.webkitMatchesSelector||b.oMatchesSelector).call(b,n)}var e=encodeURIComponent;Antavo.DOM={};Antavo.DOM.closest=function(b,n,f){if(b&&b.nodeType)for(;b;)if(b.nodeType!=Node.DOCUMENT_NODE&&b.nodeType!=Node.DOCUMENT_FRAGMENT_NODE){if(k(b,n))return b;if(b==f)break;else b=b.parentNode}else break;return null};Antavo.DOM.fromString=function(c){var n=b.createElement("div"),f=b.createDocumentFragment();
for(n.innerHTML=c;c=n.firstChild;)f.appendChild(c);return f};Antavo.DOM.hasClass=function(b,n){return b.classList?b.classList.contains(n):(new RegExp("(^| )"+n+"( |$)","gi")).test(b.className)};Antavo.DOM.matches=k;Antavo.DOM.serializeForm=function(b){if(b instanceof HTMLFormElement){var c=[];b=b.elements;for(var f=0,q=b.length;f<q;f++){var h=b[f];if(h.name&&!h.getAttribute("disabled")&&("radio"!=h.type&&"checkbox"!=h.type||h.checked))if("select-multiple"==h.type)for(var l=0;l<h.options.length;l++)h.options[l].selected&&
c.push(e(h.name)+"="+e(h.options[l].value));else c.push(e(h.name)+"="+e(h.value))}return c.join("&")}return""};Antavo.DOM.insertAfter=function(b,e){return e.parentNode.insertBefore(b,e.nextSibling)}})(document);Antavo=window.Antavo||{};
Antavo.URL=function(b){function k(b){var h="",c,f=0;for(c in b)b.hasOwnProperty(c)&&(h+=(f++?"&":"")+n(c)+"="+n(b[c]));return h}function e(b){var h={};b=b.split("&");var f=b.length,e;for(e=0;e<f;e++)if(b[e]){var n=b[e].split("=");h[c(n[0])]=c(n[1])}return h}var c=function(b){return decodeURIComponent(b.replace(/%(?![0-9][0-9a-fA-F]+)/g,"%25"))},n=encodeURIComponent,f=document.createElement("A");f.href=b;this.source=b.toString();this.protocol=f.protocol.replace(":","");this.host=f.hostname?f.hostname:
location.hostname;this.port=f.port;this.query=f.search;this.params=e(f.search.replace(/^\?/,""));this.file=(f.pathname.match(/\/([^\/?#]+)$/i)||["",""])[1];this.hash=f.hash.replace("#","");this.path=f.pathname.replace(/^([^\/])/,"/$1");this.relative=(f.href.match(/tps?:\/\/[^\/]+(.+)/)||["",""])[1];this.segments=f.pathname.replace(/^\//,"").split("/");this.toString=function(){var b=k(this.params);return(this.protocol?this.protocol+"://":"//")+this.host+(this.port?":"+this.port:"")+this.path+(b?"?"+
b:"")+(this.hash?"#"+this.hash:"")};this.parseQuery=e;Antavo.URL.buildQuery=k;Antavo.URL.parseQuery=e};Antavo=window.Antavo||{};
Antavo.Event=function(b,k){function e(b){var h=n.indexOf(this),e;if(-1!=h&&f[h]&&(e=f[h][b.type]))for(var u in e)if(e.hasOwnProperty(u))for(h=b.target;h=c(h,u,this);){for(var q=0,w=e[u].length;q<w&&!1!==e[u][q].call(h,b);q++);h=h.parentNode}}var c=b.DOM.closest,n=[],f=[];return{bind:function(b,h,c,u){u||(u=k);if(u.nodeType&&"function"==typeof c){var l=n.indexOf(u);-1==l&&(l=n.push(u),f[--l]={});f[l][b]||(f[l][b]={},u.addEventListener(b,e));f[l][b][h]||(f[l][b][h]=[]);f[l][b][h].push(c);return!0}return!1},
trigger:function(c,h,e){if(c){if(b.isIE()){var f=k.createEvent("CustomEvent");f.initCustomEvent(h,!0,!0,e)}else f=new CustomEvent(h,{bubbles:!0,cancelable:!0,detail:e});return c.dispatchEvent(f)}},unbind:function(){return!1}}}(Antavo,document);Antavo=window.Antavo||{};
Antavo.AJAX=function(b){function k(b){return-1<b.getResponseHeader("Content-Type").indexOf("application/json")}function e(b,c,e){if(window.XMLHttpRequest)var h=new XMLHttpRequest;else if(window.ActiveXObject)h=new ActiveXObject("Microsoft.XMLHTTP");else throw Error("No XMLHttpRequest object found!");h.open(b,c,!0);e||h.setRequestHeader("X-Requested-With","XMLHttpRequest");return h}function c(b,c,e,f,w){return n("POST",b,c,e,f,w)}function n(c,n,u,z,w,v,p){"string"==typeof u||u instanceof FormData||
(u=b.serialize(u));u&&"GET"==c.toUpperCase()&&(n+=(-1==n.indexOf("?")?"?":"&")+u,u=null);c=e(c,n,p);c.onreadystatechange=function(){switch(this.readyState){case this.OPENED:v&&q.trigger(v,"antavo_ajax_loading",this);break;case this.HEADERS_RECEIVED:k(this)&&(this.responseType="json");break;case this.DONE:var c=this.response;c&&b.isIE()&&k(this)&&(c=JSON.parse(c));v&&q.trigger(v,"antavo_ajax_completed",this);200==this.status?c&&c.error?f(this,c,w,v):(v&&q.trigger(v,"antavo_ajax_success",c),"function"==
typeof z&&z.call(v||window,c)):f(this,c,w,v)}};!u||u instanceof FormData||c.setRequestHeader("Content-Type","application/x-www-form-urlencoded");v&&q.trigger(v,"antavo_ajax_before_send",c);c.send(u);v&&q.trigger(v,"antavo_ajax_sent",c);return c}function f(b,c,e,f){f&&q.trigger(f,"antavo_ajax_error",b);"function"==typeof e&&e.call(f||window,b,c)}var q=b.Event;return{get:function(b,c,e,f,w){return n("GET",b,null,c,e,f,w)},post:c,send:n,submit:function(c,e,f,k){c.preventDefault();k=k||c.target;q.trigger(k,
"antavo_ajax_submitted");return n(c.target.method||"GET",c.target.getAttribute("action")||"",b.DOM.serializeForm(c.target),e,f,k)},errorHandler:function(b,e,f){/script error/i.test(b)||c("https://push.antavo.com/js",{message:b,file:e,line:f})},SUBMITTED:"antavo_ajax_submitted",BEFORE_SEND:"antavo_ajax_before_send",SENT:"antavo_ajax_sent",LOADING:"antavo_ajax_loading",COMPLETED:"antavo_ajax_completed",SUCCESS:"antavo_ajax_success",ERROR:"antavo_ajax_error"}}(Antavo);Antavo=window.Antavo||{};
Antavo=window.Antavo||{};
Antavo.Cookie=function(b){function k(b,f,q,h,l){b=e(b)+"="+e(f);q?(f=new Date,"number"===typeof q?q=Infinity===q?c.expires:new Date(f.getTime()+1E3*q):"string"===typeof q&&(q=new Date(q)),q="; expires="+q.toUTCString()):q="";document.cookie=b+q+"; path="+(h?h:c.path)+(l?"; domain ="+l:"")}var e=encodeURIComponent,c={path:"/",expires:new Date("Fri, 31 Dec 9999 23:59:59 UTC")};return{get:function(b){b=(document.cookie.match("(^|;\\s*)"+e(b)+"=([^;]*)")||0)[2];return void 0!==b?decodeURIComponent(b):
void 0},set:k,expire:function(b,c,e,h){k(b,c,"Thu, 01 Jan 1970 00:00:00 GMT",e?e:!1,h?h:!1)}}}(Antavo);Antavo=window.Antavo||{};
Antavo.Template=function(b){function k(b,c,n,f){var e=n+"foreach\\s+(\\w+)"+f+"([\\s\\S]+)"+n+"endforeach"+f,h=b.match(new RegExp(e,"g")),l;if(h)for(l in h){var u=h[l].match(new RegExp(e)),z=c[u[1]],w="";if(z)for(var v in z)w+=k(u[2],z[v],n,f);b=b.replace(h[l],w)}for(l in c)b=b.replace(new RegExp(n+l+f,"g"),c[l]);return b}this.replace=function(b){return this.content=k(this.content,b,this.leftDelimiter,this.rightDelimiter)};this.leftDelimiter="{{";this.rightDelimiter="}}";this.content=function(b){if(b.nodeType==
Node.DOCUMENT_NODE||b.nodeType==Node.DOCUMENT_FRAGMENT_NODE){var c=document.createElement("div");c.appendChild(b);return c.innerHTML}return b.innerHTML||b.toString&&b.toString()}(b)};Antavo=window.Antavo||{};
(function(b){function k(a){V&&WebSocket.OPEN==V.readyState?V.send(JSON.stringify(a)):Y.push(a)}function e(){V&&V.close()}function c(){"undefined"!=typeof Antavo.Widget?(Antavo.Widget.isReady()||Antavo.Widget.setTemplate(J.widget.template),Antavo.Widget.isReady()&&Antavo.SDK.isReady()&&Antavo.Event.trigger(b,M.SDK_INIT_FINISHED,{})):Antavo.SDK.isReady()&&Antavo.Event.trigger(b,M.SDK_INIT_FINISHED,{})}function n(){var a="//api.st1.antavo.com/auth?api_key="+C;J&&J.locale&&null!=J.locale&&(a+="&locale="+
J.locale);A&&""!=A&&(a+="&customer="+A);Antavo.AJAX.get(a,function(a){var d=!0;if(0<a.length){for(var g=0;g<a.length;g++)q(a[g]),"customer"===a[g].type&&(d=!1);d&&(Antavo.Event.trigger(b,M.SDK_AUTH_NO_CUSTOMER,{}),r&&R&&"customer"===R&&r.call(window))}else q(a);if(0<Q.length)for(a=0;a<Q.length;a++)Q.splice(0,1)[0].call()})}function f(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,N.groupSeparator||"")}function q(c){switch(c.type){case "brand":var e=c.data;var m=h;t=e.facebook_app_id?e.facebook_app_id:
"697644286957410";e.extensions.socialaccounts&&e.extensions.socialaccounts.facebook_api_key&&(t=e.extensions.socialaccounts.facebook_api_key+"");g=e.id;d=e.urls.loyalty;L=e.urls.events;D=e.urls.cdn;S=e.apps_url;O=e.urls.events;F=e.urls.reviews;K=e.urls.login;N=e.l10n.messages;H=e.extensions;Q.push(p);r&&R&&"brand"===R&&r.call(window);for("function"===typeof m&&m.call(window);e=Y.shift();)k(e);"undefined"!=typeof Antavo.Widget&&c.data.widget&&J.notifications&&(P=!0,e=Antavo.Cookie.get("__alo"),Antavo.Widget.setOptions(c.data.widget),
Antavo.Widget.positionWidget(),Antavo.Widget.storeLotteryResult(),e&&"2"==e&&(Antavo.Cookie.expire("__alo",e,"/",y()),Antavo.Cookie.set("__alo","3",1E22,"/",y()),Antavo.Widget.openSidebar()));break;case "activity":"undefined"!=typeof Antavo.Toast&&J.notifications&&"active"==a.status?(Antavo.Event.trigger(b,M.SHOW_NOTIFICATION,c),"undefined"!=typeof MicrositeHelper&&MicrositeHelper.flipCardBack(c.data.activity)):console.info("Got opted-out customer, no notifications or points.");break;case "customer":c.data.promo_url=
c.url;a=c.data;v(c.data);"undefined"==typeof Antavo.Widget||Antavo.SDK.getExtensionInfo("contentconsumption")||Antavo.Widget.update(c.data);"undefined"!=typeof Antavo.Automation&&"active"==a.status?Antavo.Automation.updatePoints(f(parseInt(c.data.score)-parseInt(c.data.spent))):console.info("Got opted-out customer, no notifications or points.");break;case "action":l(c);break;case "hash":c.id&&c.data&&(e=Z[c.id],e.hash=c.data.hash,e.date=c.data.date,Antavo.AJAX.post(O,e,z,w),delete Z[c.id]);break;
case "debug":console.info(c.data);break;case "error":console.error(c.data.message)}}function h(){for(var a in H)H.hasOwnProperty(a)&&("toast"==a?Antavo.PollToast.init():"incentivizedpurchase"==a&&E("campaigns")?Antavo.IncentivizedPurchase.init():"campaigns"==a&&Antavo.Campaigns.init())}function l(d){"undefined"!=typeof Antavo.Automation&&"undefined"!=typeof Antavo.Toast&&J.notifications&&"active"==a.status&&(Antavo.Automation.updateLimitPoints(d.data.points),Antavo.Event.trigger(b,M.SHOW_NOTIFICATION,
d))}function u(a,d,g){(A||g)&&Antavo.AJAX.post(O,{api_key:C,customer:g||A,action:a,data:d||{}},z,w)}function z(a){a.id==A&&a.events instanceof Array&&a.events.forEach(function(a){l({id:a.id,data:{points:a.points}})})}function w(a,d){d.error?console.info("Got "+d.error.type+": "+d.error.message):console.info(d)}function v(a){if(g){var d=Antavo.Cookie.get("__alc");var t=y();"cookie"==J.auth.method&&J.auth.cookie&&a.autologin_token&&(A?d&&a.autologin_token==d||Antavo.Cookie.set("__alc",a.autologin_token,
2700,"/",t):d&&Antavo.Cookie.expire("__alc",d?d:"","/",t));"social"==J.auth.method&&a.autologin_token&&(A?d&&a.autologin_token==d||Antavo.Cookie.set("__alc",a.autologin_token,7200,"/",t):d&&Antavo.Cookie.expire("__alc",d?d:"","/",t));Antavo.Automation.hasCustomerHash()||Antavo.Automation.setCustomerHash();r&&R&&"customer"===R&&r.call(window);Antavo.Event.trigger(b,M.SDK_AUTH_FINISHED,{})}else setTimeout(function(){v(a)},500)}function p(){if("social"!=J.auth.method||A||0!=T)A||0!=T||(a=Antavo.Cookie.get("__alc"),
Antavo.Cookie.expire("__alc",a?a:"","/",y()));else{var a=Antavo.Cookie.get("__alc");a?(a=a.split(".")[1],a=window.atob(a),A=JSON.parse(a).customer):A=null;n();T=!0}}function y(){return-1<location.hostname.indexOf(".co.uk")||-1<location.hostname.indexOf(".co.nl")?location.hostname.split(".").slice(-3).join("."):location.hostname.split(".").slice(-2).join(".")}function m(a,d){return N&&N.hasOwnProperty(a)?N[a]:d||!1}function B(a,d){W[d]=a}function E(a){for(var d=H,g=0;g<arguments.length;g++)if(d.hasOwnProperty(arguments[g]))d=
d[arguments[g]];else return!1;return d}function G(){if(g){var a=b.createElement("link"),d=b.getElementsByTagName("link")[0];b.getElementById("antavo_loyalty_helper_css")||(a.setAttribute("href",D+"/css/loyalty/helper.css"),a.setAttribute("rel","stylesheet"),a.setAttribute("type","text/css"),a.setAttribute("id","antavo_loyalty_helper_css"),"undefined"!=typeof d&&d?d.parentNode.insertBefore(a,d):b.querySelector("head").appendChild(a))}else setTimeout(G,500)}var C,A,a,g,d,t,L,S,D,F,K,O="//api.st1.antavo.com/events",
P=!1,U=!1,r,R,T=!1,J,X={auth:{cookie:!0,method:"cookie"},video:{enabled:!0},social:{enabled:!0,disableTracking:!1},widget:{enabled:!1,template:null,quiz:!0,position:"right"},tracking:{autoSend:!1,setHash:!0,hashMethod:"hash"},socialShare:{enabled:!0},notifications:!0,locale:null},H,Q=[],M={SDK_INIT_START:"antavo_sdk_init_start",SDK_INIT_FINISHED:"antavo_sdk_init_finished",SDK_INIT_ERROR:"antavo_sdk_init_error",SDK_AUTH_FINISHED:"antavo_sdk_customer_authenticated",SDK_AUTH_NO_CUSTOMER:"antavo_sdk_customer_not_authenticated",
MESSAGE_RECEIVED:"antavo_sdk_message_received",SHOW_NOTIFICATION:"antavo_sdk_show_notification",NOTIFICATION_SHOWN:"antavo_sdk_notification_shown"},N={decimalSeparator:".",groupSeparator:","},V,Y=[],Z={};(function(){var a=1;return function(){return a++}})();var W=["Got %d points","Get %d points","Will get %d points"];Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(a){if(void 0===a||null===a)throw new TypeError("Cannot convert first argument to object");
for(var d=Object(a),g=1;g<arguments.length;g++){var b=arguments[g];if(void 0!==b&&null!==b){b=Object(b);for(var t=Object.keys(Object(b)),c=0,N=t.length;N>c;c++){var e=t[c],p=Object.getOwnPropertyDescriptor(b,e);void 0!==p&&p.enumerable&&(d[e]=b[e])}}}return d}});var I={getAPIKey:function(){return C},getAPIUrl:function(){return L},getCustomerId:function(){return A},getCustomerLevel:function(){return a?a.level:null},getEndpoint:function(){return O},getApiHost:function(){return"//api.st1.antavo.com"},getImageUrl:function(){return a&&
a.image_url||D+"/img/loyalty/anonymous.png"},init:function(a,d,g,t,N){var p={};N=N||"init";J=Antavo.merge(g,X);C=a;"cookie"===J.auth.method&&(A=d);a&&""!=a&&(n(),b.addEventListener(M.NOTIFICATION_SHOWN,function(a){a.detail.id&&k({type:"delivered",id:a.detail.id})}),window.addEventListener("beforeunload",e));void 0!==Antavo.Toast&&Antavo.Toast.setEventHandlers();void 0!==J.video&&J.video.enabled&&Antavo.Video.init();U=!0;G();c();t&&"[object Function]"===p.toString.call(t)&&("init"==N?t.call(window):
(r=t,R=N));B(m("lc_aip_inner_content_past")||W[0],0);B(m("lc_aip_inner_content")||W[1],1);B(m("lc_aip_inner_content_future")||W[2],2);return Antavo.SDK}};I.send=u;I.sendVisit=function(a){a=Antavo.URL(a);delete a.params.__al;a.hash=null;u("visit",{url:a.toString()},A);"undefined"!==typeof Antavo.Automation&&Antavo.Automation.setEventSent()};I.getCredentials=function(){return C+" "+A};I.getBrand=function(){return{id:g,url:d}};I.getBrandUrl=function(){return d};I.getBrandId=function(){return g};I.sendInitEvent=
c;I.isReady=function(){return U};I.getKey=m;I.getKeys=function(){return W};I.getCustomer=function(){return a};I.setCustomerProperty=function(d,g){return a[d]=g};I.getCDNUrl=function(){return D};I.getFacebookAppId=function(){return t};I.getAppsUrl=function(){return S};I.getReviewsUrl=function(){return F};I.getLoginUrl=function(){return K};I.getOption=function(a){for(var d=J,g=0;g<arguments.length;g++)if(d.hasOwnProperty(arguments[g]))d=d[arguments[g]];else return!1;return d};I.getTopDomain=y;I.setOptinCookie=
function(a){if(!Antavo.Cookie.get("__alo"))return Antavo.Cookie.set("__alo","1",0,"/",y()),ga&&ga("send","event","user-interactions","opt-in-initiated",g,1),a&&(window.top.location.href=a),!0;a&&(window.top.location.href=a);return!1};I.getVisitor=function(){return Antavo.Cookie.get("_ga")};I.injectStyleSheet=G;I.formatNumber=f;I.isWidgetEnabled=function(){return P};I.handleActionMessage=l;I.getExtensionInfo=E;I.events=M;Antavo.SDK=I})(document);Antavo=window.Antavo||{};
Antavo.Video=function(b){function k(a){if("undefined"===typeof window.onYouTubeIframeAPIReady&&a){a=document.createElement("script");var d=document.getElementsByTagName("script")[0];a.src="https://www.youtube.com/iframe_api";d.parentNode.insertBefore(a,d);window.onYouTubeIframeAPIReady=function(){[].forEach.call(document.querySelectorAll('[src*="youtube.com"]:not(script),[src*="youtu.be"]:not(script)'),function(a){var d=a.getAttribute("src");/enablejsapi=1/.test(a.src)||a.setAttribute("src",d+(-1==
d.indexOf("?")?"?":"&")+"enablejsapi=1");e(a)})}}}function e(a){var d=a.hasAttribute("id")?a.getAttribute("id"):p();a.getAttribute("id")===d?"":a.setAttribute("id",d);r[d]={type:"youtube",total:0,played:0,counter:0,percent_to_watch:50,pointsValue:0,url:"",quizUrl:"",sent:!1,playerObj:new YT.Player(d,{events:{onReady:c,onStateChange:n}}),was_correct:!1,available:null,watched:!0}}function c(a){var d=r[a.target.getIframe().getAttribute("id")],g=-1,b=function(){if(-1!==g&&a.target.getPlayerState()===
YT.PlayerState.PLAYING){var d=a.target.getCurrentTime();1<Math.abs(d-g-1)&&r[a.target.getIframe().getAttribute("id")].played--}g=a.target.getCurrentTime();setTimeout(b,1E3)};setTimeout(b,1E3);d.total=a.target.getDuration();H||"undefined"!==typeof Antavo.SDK&&E(a,r,a.target.getIframe().getAttribute("id"));window.addEventListener("scroll",function(a){A()})}function n(a){if(YT.PlayerState.ENDED===a.data){var d=a.target.getIframe().getAttribute("id");T?(C(),Antavo.Event.trigger(document,X.VIDEO_END,[])):
(Antavo.SDK.send("video",{type:"youtube",url:a.target.getVideoUrl(),id:a.target.getVideoData().video_id,title:a.target.getVideoData().title}),C());J&&null==r[a.target.getIframe().getAttribute("id")].was_correct&&3>=r[d].total-r[d].played&&(Antavo.SDK.getExtensionInfo("contentconsumption")?K(r[d].quizUrl):O(d,r[d].quizUrl));C()}else if(YT.PlayerState.PLAYING===a.data){var g=a.target.getIframe().getAttribute("id"),b=Date.now(),t=-1;""===r[g].url&&(r[a.target.getIframe().getAttribute("id")].url=a.target.getVideoUrl());
r[g].video_id=a.target.getVideoData().video_id;r[g].counter=setInterval(function(){var a=Math.floor((Date.now()-b)/1E3);1<=a-t&&(r[g].played++,T&&r[g].pointsValue&&0<r[g].pointsValue&&u(r[g].percent_to_watch/100*r[g].total-r[g].played,g));t=a},250)}else YT.PlayerState.PAUSED===a.data&&(setTimeout(A,3E3),clearInterval(r[a.target.getIframe().getAttribute("id")].counter))}function f(a){if(Antavo.SDK.getCDNUrl()){var d=document.createElement("script"),g=document.getElementsByTagName("script")[0];a&&(d.src=
Antavo.SDK.getCDNUrl()+"/lib/bower-froogaloop/froogaloop.min.js",g.parentNode.insertBefore(d,g),d.onload=function(){[].forEach.call(document.querySelectorAll('[src*="vimeo.com"]:not(script)'),function(a){q(a)})})}else setTimeout(function(){f(a)},600)}function q(a){var d=a.hasAttribute("id")?a.getAttribute("id"):p(),g=m(a.src,0),b=m(a.src,3);a.setAttribute("src",B(a,d));a.hasAttribute("id")?"":a.setAttribute("id",d);r[d]={type:"vimeo",total:0,played:0,pointsValue:0,percent_to_watch:50,progress:[],
url:"",quizUrl:"",src:g,id:b,watched:!0,was_correct:null,available:null,playerObj:$f(a).addEvent("ready",function(g){$f(a).api("getVideoUrl",function(g){r[d].url=g;null!==r[d].url||m(a.src,0);"undefined"!==typeof Antavo.SDK&&E(a,r,d)});0>=r[d].url.length&&(g=new Antavo.URL(a.src),r[d].url=g.protocol+"://"+g.host+g.path,"undefined"!==typeof Antavo.SDK&&E(a,r,d));window.addEventListener("scroll",function(a){A()});$f(a).addEvent("playProgress",function(g){h(g,d);$f(a).api("getVideoUrl",function(a){r[d].url=
a})});$f(a).addEvent("pause",function(a){setTimeout(A,3E3)});$f(a).addEvent("finish",function(a){T?Antavo.Event.trigger(document,X.VIDEO_END,[]):Antavo.SDK.send("video",{type:"vimeo",url:r[d].url});J&&null==r[d].was_correct&&9<r[d].played&&(Antavo.SDK.getExtensionInfo("contentconsumption")?K(r[d].quizUrl):O(d,r[d].quizUrl))})})}}function h(a,d){var g=1E3*a.percent,b=r[d].total;r[d].progress?(100>b&&(b+=200),-1===r[d].progress.indexOf(g)&&(r[d].total=a.duration,r[d].progress.push(g),r[d].played=parseInt(b/
1E3*r[d].progress.length),T&&r[d].pointsValue&&0<r[d].pointsValue&&u(r[d].percent_to_watch/100*r[d].total-r[d].played,d))):(r[d].progress=[],r[d].total=a.duration,r[d].played=0)}function l(a,d){var g=(window.parent.document.getElementById("tpl-video-frame")?window.parent:window).document.getElementById("tpl-video-frame");g=U()?new Antavo.Template(g.cloneNode(!0)):new Antavo.Template(g.content.cloneNode(!0));var b=D(),t=(new Date).getTime(),c={};c.content="vimeo"===a?'<iframe id="apf'+t+'" src="https://player.vimeo.com/video/'+
d+"?api=1&title=0&autoplay=1&player_id=apf"+t+'" width="500" height="209" frameborder="0" autoplay="1" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>':'<iframe id="apf'+t+'" width="560" height="315" src="https://www.youtube.com/embed/'+d+'?enablejsapi=1&autoplay=1&autohide=1" frameborder="0" allowfullscreen></iframe>';"undefined"!==typeof Antavo.SDK&&Antavo.SDK.injectStyleSheet();b.innerHTML=g.replace(c);"vimeo"===a?q(b.querySelector("#apf"+t)):e(b.querySelector("#apf"+t))}function u(a,
b){var c=H?self:window.parent,e=c.document.querySelector(".antavo-remaining-box"),p="",f="",m="";f=c.document.getElementById("antavo-loyalty-video-dialog");p="undefined"!==typeof Antavo.SDK?Antavo.SDK.getCustomer():H;c=c.document.querySelector('iframe[id="'+b+'"]');m=J&&null!=r[b].quizUrl;Q?e.classList.add("loyalty-apps"):e.classList.remove("loyalty-apps");e.className.replace(/(video-[w]*)/g,"");e.classList.add("video-"+b);if("undefined"==typeof p||!r[b].watched&&!p.limit||H)if(!e&&!f&&0<a)e=S(),
d(c);else if(e&&m&&1==r[b].was_correct)a="undefined"!=typeof Antavo.SDK&&Antavo.SDK.getKey("lm_video_already_watched")?Antavo.SDK.getKey("lm_video_already_watched"):"You already got points for this video!",d(c),L("antavo-successful"),t(".success-wrapper",'<div class="success-wrapper"><p>'+a+"</p></div>");else if(e&&m&&0==r[b].was_correct&&null!=r[b].available)if(e=parseInt((new Date).getTime()/1E3),a=Math.ceil((new Date(r[b].available)).getTime()-e),0<a)p=0>=parseInt(a/3600)?"":parseInt(a/3600)+":",
f=0>=!parseInt(a/3600)&&9>=parseInt(a/60)%60?"0"+parseInt(a/60)%60:parseInt(a/60)%60,m=9>=parseInt(a%60)?"0"+parseInt(a%60):parseInt(a%60),d(c),t(y(p,f,m,b));else{a="undefined"!=typeof Antavo.SDK&&Antavo.SDK.getKey("lm_video_take_quiz_now")?Antavo.SDK.getKey("lm_watch_video_now"):'You can take our quiz about this video <button data-open-widget href="%s">now</button>';var h;f=H||Antavo.SDK.getCustomer();e=H?H.image_url:Antavo.SDK.getImageUrl();p=document.querySelector("#antavo-remaining-box-image");
f=H?H.first_name:f.handler;d(c);L("loggedin");a.match("%s")?t("#remaining-time","<p>"+a.replace(/(%s)/gmi,r[b].quizUrl)+"</p>"):t("#remaining-time","<p>"+a+"</p>");t("#antavo-remaining-box-name",f);t("#antavo-remaining-box-point-value",r[b].pointsValue);p?p.setAttribute("src",e):"";(h=document.querySelector(".antavo-remaining-box p button[data-open-widget]"))&&h.addEventListener("click",function(a){a.preventDefault();Antavo.Widget.openSidebar(h.getAttribute("href"))})}else e&&m&&r[b].watched?(a="undefined"!=
typeof Antavo.SDK&&Antavo.SDK.getKey("lm_video_take_quiz_now")?Antavo.SDK.getKey("lm_watch_video_now"):'You can take our quiz about this video <button data-open-widget href="%s">now</button>',f=H||Antavo.SDK.getCustomer(),e=H?H.image_url:Antavo.SDK.getImageUrl(),p=document.querySelector("#antavo-remaining-box-image"),d(c),L("loggedin"),a.match("%s")?t("#remaining-time","<p>"+a.replace(/(%s)/gmi,r[b].quizUrl)+"</p>"):t("#remaining-time","<p>"+a+"</p>"),t("#antavo-remaining-box-name",f.handler),t("#antavo-remaining-box-point-value",
r[b].pointsValue),p?p.setAttribute("src",e):"",(h=document.querySelector(".antavo-remaining-box p button[data-open-widget]"))&&h.addEventListener("click",function(a){a.preventDefault();Antavo.Widget.openSidebar(h.getAttribute("href"))})):1<a?(p=0>=parseInt(a/3600)?"":parseInt(a/3600)+":",f=parseInt(a/60),m=9>=parseInt(a%60)?"0"+parseInt(a%60):parseInt(a%60),d(c),t(y(p,f,m,b))):e&&("undefined"!=typeof Antavo.SDK&&"undefined"!=typeof Antavo.SDK.getCustomer()&&Antavo.SDK.getBrandId()||H?(a="undefined"!=
typeof Antavo.SDK&&Antavo.SDK.getKey("lm_finished_video_label")?Antavo.SDK.getKey("lm_finished_video_label"):"Congratulations!",e=document.querySelector(".antavo-remaining-box"),"none"!=window.getComputedStyle.display&&"undefined"!=typeof e&&"none"!=e.style.display&&(d(c),L("antavo-successful"),t(".success-wrapper",'<div class="success-wrapper"><p>'+a+"</p></div>")),g(b),setTimeout(A,5E3)):setTimeout(A,0));else{b="";if("undefined"==typeof e||null===e)e=S();d(c);b=p&&p.limit?"undefined"!==typeof Antavo.SDK&&
Antavo.SDK.getKey("lm_reached_limit")?Antavo.SDK.getKey("lm_reached_limit"):"You had reached the daily limit!":"undefined"!==typeof Antavo.SDK&&Antavo.SDK.getKey("lm_video_already_watched")?Antavo.SDK.getKey("lm_video_already_watched"):"You already got points for this video!";L("antavo-successful");t(".success-wrapper","<p>"+b+"</p>")}}function z(a,d){return"vimeo"===d?a.match(/https?:\/\/(?:www\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|)(\d+)(?:$|\/|\?)/):
a.match(/^(?:https?:\/\/)?(?:www\.)?(?:m\.)?(?:youtu\.be\/|youtube\.com(?:\/embed\/|\/v\/|\/watch\?v=|\/watch\?.+&v=))([\w-]{11})(?:.+)?$/)}function w(a){if(a&&void 0!=a){var d=-1<a.indexOf("vimeo")?"vimeo":"youtube";(a=z(a,d))&&0<a.length?(a=a[a.length-1],l(d,a)):console.error("No video ID found or malformed video URL.")}}function v(){Antavo&&void 0!=Antavo.SDK.getExtensionInfo()?Q=Antavo.SDK.getExtensionInfo("contentconsumption")||!1:window.setTimeout(v,1E3)}function p(){var a="",d;for(d=0;13>d;d++)a+=
"0123456789".charAt(Math.floor(10*Math.random()));return"apf"+a}function y(d,g,b,c){if("undefined"!=typeof Antavo.SDK&&"undefined"!=typeof Antavo.SDK.getCustomer()&&Antavo.SDK.getBrandId()||H){var e=H||Antavo.SDK.getCustomer(),p=H?H.image_url:Antavo.SDK.getImageUrl(),f="undefined"!=typeof Antavo.SDK&&Antavo.SDK.getKey("lm_get_points_in_minutes_label")?Antavo.SDK.getKey("lm_get_points_in_minutes_label"):"You will get your points in %s",y="undefined"!=typeof Antavo.SDK&&Antavo.SDK.getKey("lm_spendable_points_label")?
Antavo.SDK.getKey("lm_spendable_points_label"):"points",m=document.querySelector("#antavo-remaining-box-image");d="<strong>"+d+g+":"+b+" </strong>";g=H?H.first_name:e.handler;b="undefined"!=typeof Antavo.SDK&&Antavo.SDK.getKey("lc_customer_greeting")?F(Antavo.SDK.getKey("lc_customer_greeting"),[g]):F("Hi %s!",[g]);J&&null!=r[c].quizUrl&&(f=null==r[c].was_correct?"undefined"!=typeof Antavo.SDK&&Antavo.SDK.getKey("lm_get_points_to_quiz_label")?Antavo.SDK.getKey("lm_get_points_to_quiz_label"):"You can take a quiz about this video in %s":
0==r[c].was_correct&&null!=r[c].available?"undefined"!=typeof Antavo.SDK&&Antavo.SDK.getKey("lm_try_again_our_quiz")?Antavo.SDK.getKey("lm_try_again_our_quiz"):"You can take our quiz again in %s":0==r[c].was_correct&&0>r[c].available?"undefined"!=typeof Antavo.SDK&&Antavo.SDK.getKey("lm_take_quiz_now")?Antavo.SDK.getKey("lm_take_quiz_now"):"You can take our quiz about this video now ":"undefined"!=typeof Antavo.SDK&&Antavo.SDK.getKey("lm_get_points_to_quiz_label")?Antavo.SDK.getKey("lm_get_points_to_quiz_label"):
"You can take a quiz about this video in %s");L("loggedin");m&&m.setAttribute("src",p);t("#antavo-remaining-box-name",g);f.match("%s")?Q?t("#remaining-time",b+"&nbsp;"+f.replace(/(%s)/gmi,d)):t("#remaining-time",f.replace(/(%s)/gmi,d)):Q?t("#remaining-time",b+"&nbsp;"+f+d):t("#remaining-time",f+d);if(!r[c].watched||H)t("#antavo-remaining-box-point-value",H?"150":r[c].pointsValue),t("#antavo-remaining-box-point-label",y)}else f="undefined"!=typeof Antavo.SDK&&Antavo.SDK.getKey("lm_would_get_points")?
Antavo.SDK.getKey("lm_would_get_points"):"%s and you would get your points",y="undefined"!=typeof Antavo.SDK&&Antavo.SDK.getKey("lm_spendable_points_label")?Antavo.SDK.getKey("lm_spendable_points_label"):"points",p="undefined"!=typeof Antavo.SDK&&Antavo.SDK.getKey("lm_sign_in_label")?Antavo.SDK.getKey("lm_sign_in_label"):"Sign in",m=document.querySelector("#antavo-remaining-box-login-url"),d="<strong>"+d+g+":"+b+" </strong>",J&&null!=r[c].quizUrl&&(f="undefined"!=typeof Antavo.SDK&&Antavo.SDK.getKey("lm_get_points_to_quiz_label")?
Antavo.SDK.getKey("lm_get_points_to_quiz_label"):"and you can take our quiz"),L("guest"),t("#antavo-remaining-box-point-value2",r[c].pointsValue),t("#antavo-remaining-box-point-label2",y),f.match("%s")?t("#remaining-time2",f.replace(/(%s)/gmi,d)):t("#remaining-time2",f+d),t("#antavo-remaining-box-login-link",p),r[c].watched||(t("#antavo-remaining-box-point-value",r[c].pointsValue),t("#antavo-remaining-box-point-label",y)),m&&m.setAttribute("href",a())}function m(a,d){return a.match(/https?:\/\/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|video\/|)(\d+)(?:|$|\/|\?)/)[d]}
function B(a,d){var g=/api=1/.test(a.src)?"":"?api=1";d=/player_id=/.test(a.src)?"":"&player_id="+d;return a.getAttribute("src")+g+d}function E(a,d,g){var b={};Antavo.AJAX.get(G("undefined"==typeof a.target?m(d[g].src,0):a.target.getVideoUrl()),function(a){b.watched=a.done;a.limit&&Antavo.SDK.setCustomerProperty("limit",a.limit);"undefined"!=typeof a.quiz&&null!==a.quiz&&null!=a.quiz.url&&""!=a.quiz.url?(J=!0,d[g].percent_to_watch=98,d[g].quizUrl=a.quiz.url,"undefined"!=typeof a.quiz.points?d[g].pointsValue=
a.quiz.points:""):(J=!1,d[g].percent_to_watch=50,a.points&&(d[g].pointsValue=a.points));d&&g&&(d[g].watched=a.done,J&&"undefined"!=typeof a.quiz.is_correct&&(d[g].was_correct=a.quiz.is_correct,d[g].available=a.quiz.answer_in||null));return b},function(a,d,g){})}function G(a){var d=Antavo.SDK.getEndpoint();Antavo.SDK.getCustomerId()&&(d+="/"+Antavo.SDK.getCustomerId());return d+"/video/"+encodeURIComponent(a)+"?api_key="+Antavo.SDK.getAPIKey()}function C(){for(x in r)clearInterval(r[x].counter)}function A(a){var d=
document.querySelector(".antavo-remaining-box"),g=window.parent.document.getElementById("antavo-loyalty-video-dialog");a="undefined"!=typeof a?a:!1;1==a&&C();g&&a?d.setAttribute("style","display: none;"):g||null!==d&&d.setAttribute("style","display: none;")}function a(){if(!H){var a=Antavo.SDK.getLoginUrl(),d=encodeURIComponent(window.location.href);return a?a.match("%s")?a.replace("%s",d):a:Antavo.SDK.getBrandUrl()}return"#"}function g(a){H?Antavo.Event.trigger(document,X.VIDEO_WATCHED,[]):("youtube"===
r[a].type?Antavo.SDK.send("video",{type:"youtube",url:r[a].url,id:r[a].video_id}):"vimeo"===r[a].type&&(null!==r[a].url?Antavo.SDK.send("video",{type:"vimeo",url:r[a].url,id:r[a].id}):Antavo.SDK.send("video",{type:"vimeo",url:r[a].src,id:r[a].id})),"undefined"!=typeof r[a].quizUrl&&null!=r[a].quizUrl&&O(a,r[a].quizUrl));r[a].type="sent"}function d(a){var d=H?self:window.parent,g=d.document.querySelector(".antavo-remaining-box");d=U()?d.document.getElementById("antavo-loyalty-video-dialog-wrapper").firstElementChild:
d.document.getElementById("antavo-loyalty-video-dialog");var b=a?a.getBoundingClientRect():!1;g&&b&&(d?(g.setAttribute("style","position:fixed;z-index:2147483647;left:"+b.left+"px;top:"+b.bottom+"px;"),g.style.width="calc("+d.clientWidth+"px - 2rem)"):(g.setAttribute("style","position:fixed;left:"+b.left+"px;top:"+b.bottom+"px;"),g.style.width=a.offsetWidth+"px"))}function t(a,d){var g=(window.parent.document.getElementById("tpl-video-frame")?window.parent:window).document.querySelector(".antavo-remaining-box");
g&&(a=g.querySelector(a),M?g.classList.add("brand-"+M):M=Antavo.SDK&&Antavo.SDK.getBrandId()?Antavo.SDK.getBrandId():!1,a&&(a.innerHTML=d))}function L(a){var d=(window.parent.document.getElementById("tpl-video-frame")?window.parent:window).document.querySelector(".antavo-remaining-box");if(d){var g=d.querySelectorAll(".antavo-remaining-box-main-block");d.classList.remove("antavo-hidden");if(g)for(var b=0;b<g.length;b++)g[b].classList.add("antavo-hidden");d.querySelector("."+a).classList.remove("antavo-hidden")}}
function S(){var a=(window.parent.document.getElementById("tpl-video-frame")?window.parent:window).document.getElementById("tpl-antavo-remaining-box");a&&new Antavo.Template(a.content.cloneNode(!0))}function D(){var a,d=window.parent.document.getElementById("tpl-video-frame")?window.parent.document:document;if(a=d.getElementById("antavo-loyalty-video-dialog-wrapper"))return a;a=d.createElement("div");a.setAttribute("id","antavo-loyalty-video-dialog-wrapper");H&&a.setAttribute("class","demo-frame");
return d.body.appendChild(a)}function F(a,d){for(var g=0;g<d.length;g++)a=a.replace("%s",d[g]);return a}function K(a){a&&Antavo.Popup.display(a)}function O(a,d){J&&"undefined"!=typeof r[a].was_correct&&"undefined"!=typeof d&&!Q&&Antavo.Widget.openSidebar(d)}function P(){A(!0);return D().parentNode.removeChild(D())}function U(){return 0<window.navigator.userAgent.indexOf("MSIE ")||navigator.userAgent.match(/Trident.*rv:11\./)||navigator.userAgent.match(/Edge\/12./i)?!0:!1}var r={},R={youtube_enabled:!0,
vimeo_enabled:!0,show_banner:!0,must_watch:50},T=!0,J=!1,X={VIDEO_END:"antavo_video_ended",VIDEO_WATCHED:"antavo_video_watched"},H=!1,Q=!1,M=Antavo.SDK&&Antavo.SDK.getBrandId()?Antavo.SDK.getBrandId():!1;return{init:function(a,d){var g=window.addEventListener?"addEventListener":"attachEvent",b=window[g];g="attachEvent"==g?"onmessage":"message";H=d?d:!1;a=a?a:R;T=a.show_banner;A();k(a.youtube_enabled);f(a.vimeo_enabled);document.addEventListener("click",function(a){var d;"antavo-loyalty-video-dialog-wrapper"===
a.target.getAttribute("id")&&P();Antavo.DOM.closest(a.target,"[data-close-video-dialog]")&&P();if(d=Antavo.DOM.closest(a.target,"[data-watch-video]"))a.preventDefault(),w(d.getAttribute("data-watch-video"))});document.addEventListener("keyup",function(a){null!=a.which||null==a.charCode&&null==a.keyCode||(a.which=null!=a.charCode?a.charCode:a.keyCode);"27"===a.which&&P()});b(g,function(a){if(a.data[0]&&"addVideoFrame"===a.data[0]&&a.data[1]){var d=-1<a.data[1].indexOf("vimeo")?"vimeo":"youtube";(a=
z(a.data[1],d))&&0<a.length?(a=a[a.length-1],l(d,a)):console.error("No video ID found or malformed video URL.")}},!1);v()},getPlayerList:function(){return r},addVideoFrame:l,openVideo:w,closeVideoFrame:P,injectTemplate:function(a){return document.getElementsByTagName("body")[0].appendChild(Antavo.DOM.fromString(a))}}}(Antavo);Antavo=window.Antavo||{};
Antavo.Social=function(b){function k(){if(Antavo.SDK.getOption("social")&&("ANYHRA4VTAAABTVOERD"==Antavo.SDK.getAPIKey()||Antavo.SDK.getOption("social").enabled)){var b=u;b.facebook.enabled&&n();b.twitter.enabled&&"ANYHRA4VTAAABTVOERD"!=Antavo.SDK.getAPIKey()&&e();b.google.enabled&&c();z=document.querySelectorAll("[data-as-widgets]");for(b=0;b<z.length;b++){var f=z[b],m=f.getAttribute("data-as-widgets"),h=f.getAttribute("data-as-params");f.hasAttribute("data-as-size")&&f.getAttribute("data-as-size");
f.hasAttribute("data-as-layout")&&f.getAttribute("data-as-layout");if(m&&""!=m)if(m=m.split(","),h=h?h.split(","):[],m.length!=h.length)console.error("One or more social widget parameters are missing.\n Please provide parameters for every social action you've specified in the widget or use `location` where you want to use the current url (please note that this method won't work for follow and subscribe actions)!");else for(var l=0;l<m.length;l++){var v=m[l],q="location"!=h[l]?h[l].trim():location.href;
if("facebook-like"==v){var A=document.createElement("DIV");A.className="fb-like";A.setAttribute("data-layout","button");A.setAttribute("data-action","like");A.setAttribute("data-show-faces","false");A.setAttribute("data-share","false")}else A=document.createElement("A");if("facebook-like"!=v){A.setAttribute("data-"+v,q);a:{var a=["twitter-follow","twitter-tweet"];for(var g=0;g<a.length;g++)if(a[g]===v){a=!0;break a}a=!1}a&&(a="twitter-follow"==v?"https://twitter.com/intent/follow/?screen_name=":"https://twitter.com/intent/tweet/?text=",
A.setAttribute("twitter-follow"==v?"data-twitter-follow":"data-twitter-tweet",q),A.setAttribute("href",a+encodeURIComponent(q)));A.innerText=v}f.appendChild(A);w++}else console.info("Found a social widget without any action. Skipping...")}0<w&&Antavo.SDK.injectStyleSheet()}}function e(){"undefined"==typeof window.twttr&&(window.twttr=function(b,c,e){var f=b.getElementsByTagName(c)[0],p=window.twttr||{};if(b.getElementById(e))return p;b=b.createElement(c);b.id=e;b.src="https://platform.twitter.com/widgets.js";
f.parentNode.insertBefore(b,f);p._e=[];p.ready=function(b){p._e.push(b)};return p}(document,"script","twitter-wjs"),twttr.ready(function(b){document.addEventListener(Antavo.Automation.events.TRACKING_CHANGED,h);b.events.bind("tweet",function(b){b.url=b.target.getAttribute("data-twitter-tweet");q("twitter","tweet",b)});b.events.bind("follow",function(b){b.url=b.target.getAttribute("data-twitter-follow");q("twitter","follow",b)})}))}function c(){var b=document.createElement("script"),c=document.getElementsByTagName("script")[0];
b.setAttribute("src","https://apis.google.com/js/platform.js");c.parentNode.insertBefore(b,c);window.onYoutubeEvent=function(b){}}function n(){"undefined"==typeof FB?(window.fbAsyncInit=function(){FB.init({appId:Antavo.SDK.getFacebookAppId(),xfbml:!0,cookie:!0,status:!0,oauth:!0,version:"v2.3"});FB.Event.subscribe("edge.create",function(b){q("facebook","like",b)});f()},function(b,c,e){var f=b.getElementsByTagName(c)[0];b.getElementById(e)||(b=b.createElement(c),b.id=e,b.src="//connect.facebook.net/en_US/sdk.js",
f.parentNode.insertBefore(b,f))}(document,"script","facebook-jssdk")):f()}function f(){Antavo.Event.bind("click","[data-facebook-share]",function(b){window.fbShareUrlBuffer=closest(b.target,"[data-facebook-share]").getAttribute("data-facebook-share");FB.ui({method:"feed",display:"dialog",link:closest(b.target,"[data-facebook-share]").getAttribute("data-facebook-share")},function(b){b&&b.post_id&&(b.url=window.fbShareUrlBuffer,q("facebook","share",b))})});document.addEventListener(Antavo.Automation.events.TRACKING_CHANGED,
l)}function q(b,c,e){Antavo.SDK.send("social_share",{url:e.url})}function h(){for(var b=document.querySelectorAll('[id*="twitter-widget-"]'),c=0;c<b.length;c++){var e=new Antavo.URL(b[c].getAttribute("src"));e=e.parseQuery(e.hash);var f=new Antavo.URL("https://twitter.com/intent/tweet"),h=document.createElement("A");f.params.url=window.location.toString();e.via&&(f.params.via=e.via);e.text&&(f.params.text=e.text);h.setAttribute("href",f.toString());h.classList.add("twitter-share-button");b[c].parentNode.insertBefore(h,
b[c]);b[c].parentNode.removeChild(b[c]);twttr.widgets.load()}}function l(){for(var b=document.querySelectorAll(".fb-share-button, .fb-like"),c=0;c<b.length;c++){b[c].getAttribute("data-href");var e=b[c].getAttribute("data-layout"),f=document.createElement("DIV");f.className=b[c].classList.contains("fb-share-button")?"fb-share-button":"fb-like";f.setAttribute("data-href",window.location.href);-1<e.indexOf("button")?f.setAttribute("data-layout","button"):f.setAttribute("data-layout","box");b[c].hasAttribute("data-action")&&
f.setAttribute("data-action",b[c].getAttribute("data-action"));b[c].hasAttribute("data-show-faces")&&f.setAttribute("data-show-faces",b[c].getAttribute("data-show-faces"));b[c].hasAttribute("data-share")&&f.setAttribute("data-share",b[c].getAttribute("data-share"));b[c].parentNode.insertBefore(f,b[c]);b[c].parentNode.removeChild(b[c])}FB.XFBML.parse()}var u={facebook:{enabled:!0},twitter:{enabled:!0},google:{enabled:!0}},z,w=0,v={};["antavo_sdk_customer_authenticated","antavo_sdk_customer_not_authenticated"].forEach(function(b){document.addEventListener(b,
k)});return{init:k,getShareCounts:function(){return v}}}(Antavo);Antavo=window.Antavo||{};
(function(b){function k(a,d){a&&a.classList.contains(d)?a.classList.remove(d):a&&a.classList.add(d)}function e(){var a=b.querySelector(".la-social-share-block");if(B&&a){if(a.classList.add("mobile"),C.mobile_position)switch(C.mobile_position){case "top-right":a.classList.add("top");a.classList.add("right");break;case "bottom-right":a.classList.add("bottom");a.classList.add("right");break;case "bottom-left":a.classList.add("bottom"),a.classList.add("left")}}else C.desktop_position&&"right"==C.desktop_position&&
a&&a.classList.add("right-attached")}function c(){if(Antavo.SDK.getCustomer()){var a=Antavo.Cookie.get("__alru");a&&5<a.length&&(Antavo.Cookie.set("__alru","",1),window.top.location=a)}}function n(){var a=b.querySelector("[data-mobile-share-button]"),d=b.querySelector(".la-social-share-list"),c=b.querySelector("[data-close-share-section]");B&&a&&a.addEventListener("click",function(b){k(d,"expanded");k(a,"text");d.classList.remove("fade")});c&&c.addEventListener("click",function(a){a=b.querySelector(".la-social-share-popup");
var d=h();a&&(a.setAttribute("hidden",!0),a.classList.add("hidden"),a.classList.add("loading"));d&&d.setAttribute("hidden",!0)});b.addEventListener("click",function(b){var g=Antavo.DOM.closest(b.target,"[data-antavo-share]");if(g)if(b.preventDefault(),B&&(k(d,"expanded"),k(a,"text"),k(d,"fade"),k(b.target,"clicked")),"facebook"===g.getAttribute("data-antavo-share")){var c=g.dataset.antavoShareUrl?g.dataset.antavoShareUrl:!1;FB.ui({method:"share",href:c||window.top.location.href,display:"iframe"},
function(){Antavo.SDK.send("share",{network:"facebook",url:c||window.top.location.href});Antavo.Popup.display(Antavo.Popup.getShareUrl(Antavo.SDK.getBrandUrl())+"/success")})}else b=g.getAttribute("href")?g.getAttribute("href"):!1,Antavo.Popup.display(l(g.getAttribute("data-antavo-share"),b,g.getAttribute("data-antavo-share-preset")?g.getAttribute("data-antavo-share-preset"):null))})}function f(){var a=b.createElement("link"),d=b.getElementsByTagName("link")[0],c=!Antavo.SDK.getCustomerId()||""==
Antavo.SDK.getCustomerId(),e=9==Antavo.SDK.getBrandId()||28658==Antavo.SDK.getBrandId()?"":"<small>Sign up or log in to start collect points.</small>",f=C.networks;b.getElementById("antavo_loyalty_social_share_css")||(a.setAttribute("href",Antavo.SDK.getCDNUrl()+"/css/loyalty/social_share.css"),a.setAttribute("rel","stylesheet"),a.setAttribute("type","text/css"),a.setAttribute("id","antavo_loyalty_social_share_css"),d.parentNode.insertBefore(a,d));if(f&&0<f.length&&Antavo.Popup){9==Antavo.SDK.getBrandId()||
28658==Antavo.SDK.getBrandId()?a='<div class="la-social-share-block" style="opacity: 0;"><a data-mobile-share-button role="button"></a><ul class="la-social-share-list">':(a='<div class="la-social-share-block" style="opacity: 0;"><a data-mobile-share-button role="button"><strong data-social-share-points>750</strong><span data-social-share-points-label>&nbsp;points</span></a><ul class="la-social-share-list"><li class="la-social-share-points"><span class="la-social-share-points-label" data-social-share-points>250</span><span data-social-share-points-label>&nbsp;points</span>',
c&&(a+=e),a+="</li>");for(d=0;d<f.length;d++)"email"!==f[d]&&(a+='<li><a data-antavo-share="'+f[d]+'" role="button">',c&&(a+=e),a+="</a></li>");Antavo.Popup.injectTemplate(a+"</ul></div>")}}function q(){return Antavo.SDK.getExtensionInfo("socialshare","url")||""}function h(){var a;if(!(a=window.parent.document.getElementById("la-social-share-popup-frame"))){a=window.parent.document;var d=a.createElement("IFRAME");d.setAttribute("id","la-social-share-popup-frame");a=a.body.appendChild(d)}return a}
function l(a,d,b){var g=d||window.top.location.href;d=new Antavo.URL(q()?q()+"/"+a:window.top.location.href);var c;g&&!g.match(Antavo.Automation.getCheckRegexp())&&(c=Antavo.SDK.getCustomerId())&&(c=window.btoa(c),g=new Antavo.URL(g),c=-1<c.indexOf("=")?c.substr(0,c.indexOf("=")):c,"hash"===Antavo.SDK.getOption("tracking","hashMethod")?g.hash="__s"+c:g.params.__s=c,g=g.toString());g=encodeURIComponent(g);Antavo.SDK&&Antavo.SDK.getCustomerId()?d.params.url=g+"|"+({facebook:"f",twitter:"b",email:"e"}[a]||
""):d.params.url=g;b&&(d.params.message=encodeURIComponent(b));return d.toString()}function u(a){var d=b.querySelector(".la-social-share-popup"),g=h();d&&(d.classList.remove("hidden"),d.removeAttribute("hidden"),g.setAttribute("src",l(a)),g.onload=function(){d.classList.remove("loading");this.classList.add("open");this.removeAttribute("hidden");(new Talker(g.contentWindow,"*")).send("antavoSocialShare",{command:"content-loaded"});this.onload=null})}function z(){for(var a=b.getElementsByTagName("meta"),
d=0;d<a.length;d++)switch(a[d].getAttribute("property")){case "og:title":E.og_title=a[d].getAttribute("content");break;case "og:description":E.og_description=a[d].getAttribute("content");break;case "og:url":E.og_url=a[d].getAttribute("content");break;case "og:image":E.og_image_url=a[d].getAttribute("content");break;case "image":E.image_url=a[d].getAttribute("content");break;case "url":E.url=a[d].getAttribute("content");break;case "description":E.description=a[d].getAttribute("content");break;case "title":E.title=
a[d].getAttribute("content")}b.querySelector("title")&&(E.defaultTitle=b.querySelector("title").innerHTML);return E}function w(a){var d=0,b;if(0===a.length)return d;var g=0;for(b=a.length;g<b;g++){var c=a.charCodeAt(g);d=(d<<5)-d+c;d|=0}0>d&&(d*=-1);return d}function v(){if(9==Antavo.SDK.getBrandId()||28658==Antavo.SDK.getBrandId())return!1;for(var a=b.querySelectorAll("[data-social-share-points]"),d=Antavo.SDK.getExtensionInfo("socialshare"),c=0;c<a.length;c++)a[c]&&d&&null!=d.points&&(a[c].innerHTML=
"+"+d.points)}function p(){if(9==Antavo.SDK.getBrandId()||28658==Antavo.SDK.getBrandId())return!1;for(var a=b.querySelectorAll("[data-social-share-points-label]"),d=Antavo.SDK.getKey("lm_points_label")||"points",c=0;c<a.length;c++)a[c]&&d&&null!=d&&(a[c].innerHTML="&nbsp;"+d)}function y(){var a=Antavo.SDK.getExtensionInfo("socialshare");if(a&&a.hasOwnProperty("style")){var d=a.style;if(d&&d.length){d=b.createElement("link");var c=b.getElementsByTagName("title")[0];d.setAttribute("href",a.style);d.setAttribute("rel",
"stylesheet");d.setAttribute("type","text/css");c.parentNode.insertBefore(d,c)}}}function m(){Antavo.SDK.getBrandId()?(C=Antavo.SDK.getExtensionInfo("socialshare"),A=Antavo.SDK.getOption("socialShare"),C&&y(),C&&A&&A.enabled&&(G=new Talker(window.parent,"*"),f(),G.onMessage=function(a){},c(),n(),e(),v(),p())):setTimeout(function(){m()},1E3)}var B=Antavo.isMobile().any(),E={},G,C,A;m();var a={};a.init=m;a.display=function(){};a.popup=u;a.handleError=function(a){var d=h();d.classList.add("error");d.setAttribute("data-error-message",
a)};a.share=function(a){z();u(a)};a.storePreLoginState=function(a,d){"undefined"!=typeof a&&""==Antavo.SDK.getCustomerId()&&Antavo.Cookie.set("__alru",a+"#la_popup="+("facebook"==d?1:"twitter"==d?2:3),360)};a.getMetaDataFromPage=z;a.storeShareMessage=function(a){"undefined"!=typeof a&&Antavo.Cookie.set("__las"+w(window.top.location.hostname.toString()),JSON.stringify(a),180)};a.clearShareMessage=function(){Antavo.Cookie.set("__las"+w(window.top.location.hostname.toString()),"",10)};a.getStoredShareMessage=
function(){var a=Antavo.Cookie.get("__las"+w(window.top.location.hostname.toString()));return a&&"undefined"!=typeof a&&""!=a?JSON.parse(a):!1};Antavo.ShareButtons=a})(document);Antavo=window.Antavo||{};
(function(b){function k(){var c;(c=b.querySelector(".antavo-toast"))||(c=b.createElement("DIV"),c.className="antavo-toast",c.innerHTML="<a href='' class='antavo-toast-link' target='_blank'><div class='antavo-toast-image'></div><p class='antavo-toast-title'></p><span class='antavo-toast-text'></span></a>",c=b.body.appendChild(c));return c}function e(){p=v=!0;return k().classList.add("paused")}function c(){p=!1;return k().classList.remove("paused")}function n(){if(!p)return p=v=!1,k().classList.remove("burnt");
setTimeout(n,1E3)}function f(b){var c=new Antavo.URL(b);c.params.utm_medium="toast";c.params.utm_campaign="points";0>window.location.toString().indexOf(b)?c.params.utm_source="website":c.params.utm_source="microsite";return c}function q(b,h,m,A,a,g,d){if(Antavo.SDK.getExtensionInfo("toast")){var t=k(),p=Antavo.SDK&&Antavo.SDK.getBrandUrl();p?t.querySelector(".antavo-toast-link").setAttribute("href",f(p).toString()):t.querySelector(".antavo-toast-link").removeAttribute("href");void 0!==Antavo.SDK&&
t.setAttribute("data-details",Antavo.SDK.getKey("lm_details_label","Details"));t.querySelector(".antavo-toast-title").innerHTML=b;t.querySelector(".antavo-toast-text").innerHTML=h||"";t.className=g?"antavo-toast "+g+" burnt":"antavo-toast burnt";t.classList.add("thirdparty");A&&t.classList.add("internal");if(void 0!==Antavo.Widget)if(Antavo.Widget.isSidebarOpen())t.classList.add("sidebar");else if(b=Antavo.Widget.isWidgetShowing())t.classList.add(b.vertical+"-"+b.horizontal),t.classList.add("widget");
h&&""!==h||t.classList.add("notext");m?(t.querySelector(".antavo-toast-image").style.backgroundImage="url("+m+")",t.querySelector(".antavo-toast-image").style.backgroundColor="transparent"):(t.querySelector(".antavo-toast-image").style.backgroundColor="#febd00",t.querySelector(".antavo-toast-image").style.backgroundImage="url("+Antavo.SDK.getCDNUrl()+"/img/loyalty/anonymous.png)",t.querySelector(".antavo-toast-image").classList.remove("hide"));t.addEventListener("mouseover",e);t.addEventListener("mouseout",
c);v=!0;a&&"function"===typeof a&&a.call(window,t);d||setTimeout(n,8E3);return t}}function h(c){if((Antavo.SDK.getKey("lm_got_points_now")||Antavo.SDK.getKey("lm_points_withdrawn"))&&Antavo.SDK.getExtensionInfo("toast")){var e=c.data.points;-1<m.indexOf(c.id)?Antavo.Event.trigger(b,"antavo_sdk_notification_shown",c):(m.push(c.id),q(c.data.points===Math.abs(e)?Antavo.SDK.getKey("lm_got_points_now"):Antavo.SDK.getKey("lm_points_withdrawn","Oh, we are sorry"),"<strong>"+e+"</strong> "+Antavo.SDK.getKey("lm_points_label"),
Antavo.SDK.getCustomer().image_url,null,function(f){var h,a=b.createElement("canvas"),g=a.getContext("2d"),d=[12,10,32,14,16,22,48,13,24,15,9],t=f.querySelector("canvas");a.width=275;a.height=94;for(h=0;80>h;h++){var m=Math.round(10*Math.random());g.font=d[m]+"px Arial Black";g.fillStyle="rgba(255,255,255,"+Math.random().toFixed(2)+")";g.fillText(e,Math.floor(275*Math.random())+0,Math.floor(94*Math.random())+0)}t&&t.parentNode.removeChild(t);f.appendChild(a);Antavo.Event.trigger(b,"antavo_sdk_notification_shown",
c)}))}}function l(){var b;v?setTimeout(l,500):(b=y.shift())&&h(b)}function u(b){y.push(b.detail);l()}function z(){b.addEventListener("antavo_sdk_show_notification",u)}function w(){Antavo.SDK.getBrandId()?(z(),Antavo.SDK.injectStyleSheet()):setTimeout(w,500)}var v=!1,p=!1,y=[],m=[],B={};B.init=w;B.setEventHandlers=z;B.show=q;B.hide=n;B.EVENT_SHOW="antavo_sdk_show_notification";Antavo.Toast=B})(document);Antavo=window.Antavo||{};
Antavo.Automation=function(b){function k(){y=new Antavo.URL(window.parent.location);E||(E=decodeURIComponent(window.location.toString()),Antavo.Event.trigger(document,"hash-stored",{}));if(Antavo.SDK.getBrandId()){var b=Antavo.SDK.getExtensionInfo("contentconsumption"),a=Antavo.SDK.getExtensionInfo("newslettertracking");y.params.__al&&(delete y.params.__al,"hash"===Antavo.SDK.getOption("tracking","hashMethod")?y.hash=null:delete y.params.__s,history.replaceState(null,null,y.toString()),e());u();a&&
a.enabled&&y.params.__alc&&y.params.__aln&&Antavo.SDK.send("newsletter_click",{url:y.protocol+"://"+y.host+y.path,campaign:y.params.__aln},y.params.__alc);Antavo.SDK.getOption("tracking","autoSend")?document.addEventListener("scroll",function(a){a=document.documentElement.scrollTop||document.body.scrollTop;!C&&a>=.5*(document.body.clientHeight-window.innerHeight)&&e()}):b&&b.hasOwnProperty("visit")&&b.visit&&b.hasOwnProperty("quiz_url")&&!b.quiz_url&&e()}else setTimeout(function(){k()},500)}function e(){Antavo.SDK.send("visit",
{url:y.toString()});C=!0}function c(){return"hash"===Antavo.SDK.getOption("tracking","hashMethod")?/#__s([A-Za-z0-9+/=]+)/g:/[?|&]__s=([A-Za-z0-9+/=]+)/g}function n(){if(Antavo.SDK.getCustomerId()&&!0===Antavo.SDK.getOption("tracking","setHash"))if(m)setTimeout(function(){n()},500);else{var b=new Antavo.URL(window.parent.location),a=z(Antavo.SDK.getCustomerId());a=-1<a.indexOf("=")?a.substr(0,a.indexOf("=")):a;"hash"===Antavo.SDK.getOption("tracking","hashMethod")?b.hash="__s"+a:b.params.__s=a;history.replaceState(null,
null,b.toString());window.addEventListener("hashchange",n)}}function f(b){var a={f:"facebook",b:"twitter",t:"tumblr",e:"email",p:"pinterest",g:"google"},g;for(g in b)if("undefined"!=typeof a[b[g]])return a[b[g]].toString()}function q(){var b={facebook:/(facebook.com)/,twitter:/(\/t.co\/)/,tumblr:/(t.umblr.com)/,pinterest:/(pinterest.com)/,google:/(google.com)/};if(document.referrer&&""!=document.referrer&&"undefined"!=typeof document.referrer)for(var a in b)if(document.referrer.match(b[a]))return a.toString();
return""}function h(b){b&&0<b.length&&!Antavo.Cookie.get("__ats")&&Antavo.Cookie.set("__ats",b,2592E3)}function l(){var b=("hash"===Antavo.SDK.getOption("tracking","hashMethod")?/#__s([A-Za-z0-9+/=]+)(\|([fbtgerpc]+))(\|([a-f0-9]\w+))?/g:/[?|&]__s=([A-Za-z0-9+/=]+)(\|([fbtgerpc]+))(\|([a-f0-9]\w+))?/g).exec(decodeURIComponent(window.location.toString()));if(b&&"undefined"!=typeof b[3]){h(f(b[3]));for(var a=b[5],g=b[3].split(""),d=0;d<g.length;d++)if("c"==g[d].toLowerCase()&&"undefined"!=typeof a){var c=
a,e=Antavo.SDK.getExtensionInfo("contests","url");e&&c&&Antavo.Popup.display(e+"/"+c)}else"r"==g[d].toLowerCase()&&(c=w(b[1]),c=c.trim().replace(/[^\x20-\x7E]+/g,""),Antavo.SDK.getCustomerId()!=c&&(e=Antavo.SDK.getExtensionInfo("friendreferral"),e.url&&e.display_popup&&Antavo.Popup.display(e.url+"/coupon?referrer="+c+(Antavo.isMobile().any()?"?mobile=true":""))))}else h(q())}function u(){var b=c().exec(decodeURIComponent(window.location.toString())),a=Antavo.Cookie.get("__alr");b&&w(b[1])&&(G=w(b[1]),
G=G.trim().replace(/[^\x20-\x7E]+/g,""),l(),Antavo.SDK.getCustomerId()!=G&&(b=(b=window.location.toString().match(/__s[A-Za-z0-9\+\/=]+\|(\w+)/))&&b[1],"hash"===Antavo.SDK.getOption("tracking","hashMethod")?y.hash="":delete y.params.__s,history.replaceState(null,null,y.toString()),!a&&b&&0<=b.indexOf("r")&&Antavo.Cookie.set("__alr",G,7776E3,"/",Antavo.SDK.getTopDomain()),a={url:y.toString()},b=Antavo.SDK.getVisitor(),document.referrer&&(a.referrer=document.referrer),b&&(a.visitor=b),Antavo.SDK.getExtensionInfo("share_impression",
"enabled")&&Antavo.SDK.send("share_impression",a,G)),Antavo.SDK.getCustomerId()&&(a=new Antavo.URL(window.parent.location),b=z(Antavo.SDK.getCustomerId()),b=-1<b.indexOf("=")?b.substr(0,b.indexOf("=")):b,"hash"===Antavo.SDK.getOption("tracking","hashMethod")?a.hash="__s"+b:a.params.__s=b,history.replaceState(null,null,a.toString()),m=!1,Antavo.Event.trigger(document,B.TRACKING_CHANGED)))}function z(b){b=escape(b);var a="",g=0;do{var d=b.charCodeAt(g++);var c=b.charCodeAt(g++);var e=b.charCodeAt(g++);
var f=d>>2;d=(d&3)<<4|c>>4;var h=(c&15)<<2|e>>6;var m=e&63;isNaN(c)?h=m=64:isNaN(e)&&(m=64);a=a+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(f)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(d)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(h)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(m)}while(g<b.length);return a}function w(b){var a="",g=0;if(/[^A-Za-z0-9\+\/=]/g.exec(b))return!1;
b=b.replace(/[^A-Za-z0-9\+\/=]/g,"");do{var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(g++));var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(g++));var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(g++));var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(g++));d=d<<2|c>>4;c=(c&15)<<4|e>>2;var h=(e&3)<<6|f;a+=String.fromCharCode(d);64!=
e&&(a+=String.fromCharCode(c));64!=f&&(a+=String.fromCharCode(h))}while(g<b.length);return unescape(a)}var v=[],p=[],y,m=!1,B={TRACKING_CHANGED:"antavo_sdk_tracking_hash_changed"},E,G="",C=!1;return{events:B,decode64:w,init:k,updatePoints:function(b){v=document.querySelectorAll(".alms-point-placeholder");for(var a=0;a<v.length;a++)v[a].innerHTML=b},updateLimitPoints:function(b){var a=document.querySelector("[data-daily-limit]");p=document.querySelectorAll("[data-limit-point]");for(var g=0;g<p.length;g++){var d=
parseInt(p[g].innerHTML.replace(/\s+/g,""))-b;if(a){var c=100-parseInt(d/a.getAttribute("data-daily-limit")*100);document.querySelector("[data-limit-progressbar]").style.width=c+"%"}0>=d&&(document.querySelector(".alms-messaging-container").classList.add("counter"),document.querySelector(".alms-messaging-countdown-container-wrapper").classList.remove("hidden"));p[g].innerHTML=0<=d?Antavo.SDK.formatNumber(d):"0"}},getCustomerHash:function(){if(Antavo.SDK.getCustomerId()){var b=z(Antavo.SDK.getCustomerId());
return-1<b.indexOf("=")?b.substr(0,b.indexOf("=")):b}return!1},setCustomerHash:n,hasCustomerHash:function(){var b=c().exec(decodeURIComponent(window.location.toString()));if(b&&w(b[1])){b=w(b[1]);b=b.trim().replace(/[^\x20-\x7E]+/g,"");if(Antavo.SDK.getCustomerId()==b)return!0;m=!0}return!1},isHashChanged:function(){return!1},isHashChangeNeeded:function(){return m},getPrefixedCustomerHash:function(b){if(Antavo.SDK.getCustomerId()){var a=b?"|"+b:"";b=z(Antavo.SDK.getCustomerId());b=-1<b.indexOf("=")?
b.substr(0,b.indexOf("=")):b;b="__s"+b+a;a=""==a?q():f(a);h(a);return b}},storeTrafficSource:h,getSocialChannel:l,getStoredURL:function(){return E},getCheckRegexp:c,isEventSent:function(){return C},setEventSent:function(){C=!0}}}(Antavo);Antavo.Automation.init();Antavo=window.Antavo||{};
(function(b){function k(){var a=window.navigator.userAgent,d=a.indexOf("MSIE ");return(0<d||navigator.userAgent.match(/Trident.*rv:11\./))&&10===parseInt(a.substring(d+5,a.indexOf(".",d)))?!0:!1}function e(){if(Antavo.SDK.getBrandId()){var a=b.createElement("link"),d=b.getElementsByTagName("link")[0];b.getElementById("antavo_popup_css")||(a.setAttribute("href",Antavo.SDK.getCDNUrl()+"/css/loyalty/antavo-popup.css"),a.setAttribute("rel","stylesheet"),a.setAttribute("type","text/css"),a.setAttribute("id",
"antavo_popup_css"),"undefined"!=typeof d&&d?d.parentNode.insertBefore(a,d):b.querySelector("head").appendChild(a))}else setTimeout(e,500)}function c(a){return b.getElementsByTagName("body")[0].appendChild(Antavo.DOM.fromString(a))}function n(){var a=b.querySelector(".la-popup-frame"),d=u(),c=b.querySelector(".la-popup-overlay");c.classList.remove("la-popup-overlay-displayed");k()&&c&&(c.style.display="none");a&&(a.setAttribute("hidden",!0),a.classList.add("hidden"),a.classList.add("loading"),E=!1);
d&&(d.removeAttribute("src"),d.setAttribute("hidden",!0));w(0,0);3E4!=Antavo.SDK.getBrandId()&&30105!=Antavo.SDK.getBrandId()||window.location.reload()}function f(a){return Antavo.SDK.getExtensionInfo("socialshare","url")||a+"/share/"+Antavo.SDK.getBrandId()}function q(a){if(Antavo.SDK.getBrandId())switch(a[2]){case "0":m(f(Antavo.SDK.getBrandUrl())+"/success");break;case "1":m(f(Antavo.SDK.getBrandUrl())+"/facebook?url="+window.top.location);break;case "2":m(f(Antavo.SDK.getBrandUrl())+"/twitter?url="+
window.top.location);break;case "3":m(f(Antavo.SDK.getBrandUrl())+"/email?url="+window.top.location)}else setTimeout(function(){q(a)},500)}function h(a){(a=/(\#la_popup)=([0-9]{1})/g.exec(a.newURL||a))&&a[2]&&(q(a),a=window.top.location.toString().split("#")[0],window.history.pushState("","",a))}function l(){var a=b.querySelector(".la-popup-frame").querySelector("[data-close-popup]");a&&a.addEventListener("click",function(a){a.preventDefault();n()});b.addEventListener("hash-stored",function(a){h(Antavo.Automation.getStoredURL())});
h(Antavo.Automation.getStoredURL());window.onhashchange=h}function u(){if(window.parent.document.getElementById("la-social-share-popup-frame"))var a=window.parent.document.getElementById("la-social-share-popup-frame");else{a=window.parent.document;var d=a.createElement("IFRAME");d.setAttribute("id","la-social-share-popup-frame");a=a.body.appendChild(d)}return a}function z(a){"undefined"!=typeof ga&&ga?ga("send","event","Popup","open",a):Antavo.AJAX.get(Antavo.SDK.getBrandUrl()+"/track/popup?url="+
a)}function w(a,d){var c=b.querySelector(".la-popup-frame");a=2*Math.round(a/2);d=2*Math.round(d/2);!c||3E4!=Antavo.SDK.getBrandId()&&30105!=Antavo.SDK.getBrandId()&&635!=Antavo.SDK.getBrandId()?c&&!C&&d?c.setAttribute("style","height: "+a+"px; width: "+d+"px"):c&&200<d?c.setAttribute("style","height: "+a+"px; width: "+d+"px"):c&&c.setAttribute("style","height: "+a+"px"):(b.querySelector(".la-popup-overlay").style="background-color: #0000009c",c.setAttribute("style","height: 600px; width: 520px"))}
function v(a){var d=b.querySelector(".la-popup-frame");d&&d.classList.add(a)}function p(a){G=new Talker(a.contentWindow,"*");G.send("antavoSocialShare",{command:"content-loaded",data:Antavo.ShareButtons.getStoredShareMessage(),url:Antavo.SDK.getBrandUrl(),share_url:Antavo.SDK.getExtensionInfo("socialshare","url"),hash_based:"hash"===Antavo.SDK.getOption("tracking","hashMethod"),id:Antavo.SDK.getBrandId(),mobile:Antavo.isMobile().any()||640>window.parent.document.body.getBoundingClientRect().width});
G.send("antavoSocialShare",{command:"share-object",data:Antavo.ShareButtons.getMetaDataFromPage()});G.send("antavoSocialShare",{command:"previous-dialog",data:Antavo.ShareButtons.getStoredShareMessage(),url:Antavo.SDK.getBrandUrl(),id:Antavo.SDK.getBrandId()});G.send("antavoPopup",{command:"content-loaded"});C&&(G.send("antavoPopup",{command:"mobile-view"}),v("mobile"));G.onMessage=function(d){if("antavoSocialShare"===d.namespace)if("store-dialog"==d.data.command)Antavo.ShareButtons.storeShareMessage(d.data.data);
else if("resize-frame"==d.data.command)w(d.data.height,d.data.width),d.data.addClass&&""!=d.data.addClass&&v(d.data.addClass);else if("open-popup"==d.data.command){var c=d.data.url+"?url="+window.top.location.toString();"facebook"===d.data.network?(Antavo.Popup.close(),A||(A=!0,FB.ui({method:"share",href:c||window.top.location.href,display:"iframe"},function(a){A=!1;a&&(Antavo.SDK.send("share",{network:"facebook",url:c||window.top.location.href}),Antavo.Popup.display(Antavo.Popup.getShareUrl(Antavo.SDK.getBrandUrl())+
"/success"))}))):m(c)}else"close-popup"==d.data.command?n():"clear-cookie"==d.data.command?Antavo.ShareButtons.clearShareMessage():"store-login-state"==d.data.command?Antavo.ShareButtons.storePreLoginState(window.top.location.toString(),d.data.network):"redirect-view"==d.data.command?b.querySelector("[data-close-popup]").classList.add("hidden"):"redirect"==d.data.command?d.data.target&&(window.location=d.data.target):"add-class"==d.data.command?b.querySelector(d.data.selector).classList.add(d.data.class):
"scotty-beam-me-up"===d.data.command&&(d=d.data.offset||0,window.jQuery?jQuery("html, body").stop().animate({scrollTop:jQuery(a).offset().top+d},1E3):console.warn("Sorry, this command needs jQuery to function"));else"antavoPopup"===d.namespace&&("resize-frame"==d.data.command?w(d.data.height,d.data.width):"hideQuizWidget"==d.data.command&&Antavo.Quiz.hide())}}function y(a){var d=Antavo.SDK.getOption("locale");if(d&&null!=d){a=new Antavo.URL(a);var b=a.params.url;a.params.locale=d.toString().toLowerCase();
b&&(delete a.params.url,a.params.url=b);return a.toString()}return a}function m(a){var d=b.querySelector(".la-popup-frame"),c=u(),g=b.querySelector(".la-popup-overlay");g.classList.add("la-popup-overlay-displayed");a=y(a);k()&&g&&(g.style.display="block");!d||c.getAttribute("src")==decodeURIComponent(a)&&E||(d.classList.remove("hidden"),d.removeAttribute("hidden"),d.classList.add("loading"),d.classList.remove("open"),C&&d.classList.add("mobile"),w(200,150),c.setAttribute("src",decodeURIComponent(a)),
c.onload=function(){w(126,150);var a=b.querySelector(".la-popup-frame");a&&(a.className="la-popup-frame");d.classList.remove("loading");this.classList.add("open");this.removeAttribute("hidden");p(c)},z(a),E=!0)}function B(){e();b.querySelector(".la-popup-frame")||c('<div class="la-popup-overlay"><div class="la-popup-frame loading hidden"><a href="#" data-close-popup></a><iframe src="" id="la-social-share-popup-frame" class="la-social-share-popup-content" hidden></iframe></div></div>');l();if(k()){var a=
b.querySelector(".la-popup-overlay");a&&(a.style.display="none")}}var E=!1,G,C=Antavo.isMobile().any()||!1,A=!1;B();var a={};a.init=B;a.close=n;a.injectTemplate=c;a.display=m;a.resizeFrame=w;a.getShareUrl=f;Antavo.Popup=a})(document);Antavo=window.Antavo||{};
(function(b){function k(a){var d,b;[].forEach.call(a,function(a){var h;if(h=a.getAttribute("data-aip-properties"))try{var t=JSON.parse(h)}catch(K){t="object"===typeof window[h]?window[h]:a.getAttribute("data-aip-value")||0}else t=a.getAttribute("data-aip-value")||0;d=t;b="object"===typeof d?w([d],e(),g):f(d,g,1);t=c(Antavo.SDK.getKeys(),b);h=a.getAttribute("data-aip-tense");a.innerHTML=t[h||1]})}function e(){return[].filter.call(A,function(a){var b=Antavo.SDK.getCustomer();a=a.modules.incentivizedpurchase.segment;
var d;if(!(d=!a))a:{if(b)for(d=0;d<b.segments.length;d++)if(b.segments[d][a]){d=!0;break a}d=!1}if(d)return!0})}function c(a,b){return[].map.call(a,function(a){return a.replace(/%d/g,b)})}function n(a,b){return{past:a[0].replace(/%d/g,b),present:a[1].replace(/%d/g,b),future:a[2].replace(/%d/g,b)}}function f(a,b,c,g){console.log(a);console.log(g);console.log(1*g);console.log(a+g);return"undefined"!==typeof g?(a+1*g).toFixed():(parseFloat("string"===typeof c?c.replace(",","."):c)*(b/100)*a).toFixed()}
function q(a,b){return b.reduce(function(b,d){return!(!b||!h(a,d))},!0)}function h(a,b){return b.reduce(function(b,d){return!(!b&&!m(a[d.property],d.operator,d.value))},!1)}function l(a,b){return q(a,b.modules.incentivizedpurchase.filters)}function u(a,b,c,g){var d=!1,e=0,h=0;[].forEach.call(b,function(b){l(a,b)&&(b=b.modules.incentivizedpurchase,h="multiply"===b.calculation?parseInt(f(c,g,b.value)):parseInt(f(c,g,1,b.value)),h>e&&(e=parseInt(h),d=b))});return d}function z(a,b,c,g){var d=!1,e=0,h=
0;[].forEach.call(b,function(b){var m=b.end_date;l(a,b)&&(b=b.modules.incentivizedpurchase,h="multiply"===b.calculation?parseInt(f(c,g,b.value)):parseInt(f(c,g,1,b.value)),h>e&&(e=parseInt(h),d=m))});return d}function w(a,b,c){var d=[];[].forEach.call(p(a),function(a){var g;(g=u(a,b,a.value,c))?"multiply"===g.calculation?d.push(f(a.value,c,g.value)):d.push(f(a.value,c,1,g.value)):d.push(f(a.value,c,1))});return d}function v(a,b){var d=[],c=0;[].forEach.call(a,function(a,g){var e=n(Antavo.SDK.getKeys(),
b[g]);a.hasOwnProperty("product_id")&&(e.product_id=a.product_id);a.hasOwnProperty("product_name")&&(e.product_name=a.product_name);c=parseInt(c)+parseInt(b[g]);d.push(e)});a=n(Antavo.SDK.getKeys(),c);a.total=!0;d.push(a);return d}function p(a){var b=y(a);return[].map.call(a,function(a,d){a.total=b.total;a.total_quantity=b.total_quantity;return a})}function y(a){var b=0,d=0;[].forEach.call(a,function(a,c){b+=a.subtotal||a.value*(a.quantity||1);d+=a.quantity||1});return{total:b,total_quantity:d}}function m(a,
b,c){switch(b){case "start":return!!a.match(new RegExp("^"+c,"i"));case "not_start":return!a.match(new RegExp("^"+c,"i"));case "end":return!!a.match(new RegExp(c+"$","i"));case "not_end":return!a.match(new RegExp(c+"$","i"));case "contain":return E(a,c);case "not_contain":return!E(a,c);case "equal":return B(a,c);case "not_equal":return!B(a,c);case "less":return a<c;case "not_greater":return a<=c;case "greater":return a>c;case "not_less":return a>=c;case "between":return a>=c[0]&&a<=c[1];case "exists":return G(a,
c);case "not_exists":return!G(a,c);default:console.error("Unsupported operator type:"+b)}}function B(a,b){return"undefined"===typeof a||"undefined"===typeof b?!1:"string"==typeof a||"string"==typeof b?a.toString().toLowerCase()===b.toString().toLowerCase():a===b}function E(a,b){return G(a,null)&&-1!=a.toString().toLowerCase().indexOf(b.toString().toLowerCase())}function G(a,b){return null!=a&&"undefined"!=typeof a&&""!=a}function C(){var d;if(Antavo.SDK.getBrandId()){g=Antavo.SDK.getExtensionInfo("incentivizedpurchase",
"percentage")||100;if(d=Antavo.SDK.getExtensionInfo("campaigns"))A=d.campaigns;d=b.querySelectorAll("[data-aip-value]");for(var c=a,e=0;e<d.length;e++)c.push(d[e]);k(c)}else window.setTimeout(C,1E3)}var A=[],a=[],g;Antavo.Campaigns={init:C,getCampaigns:e,getStrings:function(a){return v(a,w(a,e(),g))},getPoints:function(a){return w(a,e(),g).map(function(a){return parseInt(a)})},getRelevantCampaignEndDate:function(a){return z(a,e(),a.value,g)},calculateCampaignBonus:function(a,b){Antavo.AJAX.post(Antavo.SDK.getApiHost()+
"/extensions/automation/campaign-bonus",{api_key:Antavo.SDK.getAPIKey(),customer:Antavo.SDK.getCustomerId(),data:a||{}},function(a){var d=0;a.data&&a.data.purchase&&a.data.purchase.points&&(d=a.data.purchase.points);b&&b(n(Antavo.SDK.getKeys(),d))})}}})(document);Antavo=window.Antavo||{};
(function(b){function k(){var c=b.createElement("DIV");c.className="antavo-poll-toast";c.innerHTML='<div class="antavo-poll-toast-inner"><div class="antavo-poll-toast-points"></div><a class="antavo-poll-toast-link"></a></div>';return b.body.appendChild(c)}function e(c){var e=b.querySelector(".antavo-poll-toast")||k();p=!0;e.querySelector(".antavo-poll-toast-points").innerHTML=c.points+"&nbsp;"+Antavo.SDK.getKey("lm_points_label","points");e.classList.add("antavo-poll-toast-show")}function c(){(b.querySelector(".antavo-poll-toast")||
k()).classList.remove("antavo-poll-toast-show");p=!1;z.length&&setTimeout(n,1E3)}function n(){var b=z.shift();if(b&&!p&&(!Antavo.Cookie.get("__altm")||(Antavo.Cookie.get("__altm")||!1)<b.id)){var c=b.id,f=Antavo.Cookie.get("__altm");f&&Antavo.Cookie.expire("__altm",f,"/",Antavo.SDK.getTopDomain());Antavo.Cookie.set("__altm",c,"/",Antavo.SDK.getTopDomain());u=u+"&last="+c;e(b)}}function f(){if(v)return!1;Antavo.AJAX.get(u,function(b){if(0<b.length){for(var c=0;c<b.length;c++)z.push(b[c]);setTimeout(f,
l[w]);n()}else w>=l.length&&(v=!0),w>l.length||++w},function(){console.error("Failed to load toast messages.");v=!0;return!1})}function q(){b.addEventListener("click",function(b){Antavo.DOM.closest(b.target,".antavo-poll-toast-link")&&c()})}function h(){if(Antavo.SDK.getBrandId())if(Antavo.SDK.getExtensionInfo("toast")&&Antavo.SDK.getCustomerId()){u=Antavo.SDK.getApiHost()+"/customers/"+Antavo.SDK.getCustomerId()+"/messages?api_key="+Antavo.SDK.getAPIKey();var c=Antavo.SDK.getExtensionInfo("toast");
if(c&&c.hasOwnProperty("style")){var e=b.createElement("link"),p=b.getElementsByTagName("title")[0];e.setAttribute("href",c.style);e.setAttribute("rel","stylesheet");e.setAttribute("type","text/css");p.parentNode.insertBefore(e,p)}q();f()}else return v=!0,!1;else setTimeout(h,500)}var l=[6E4,12E4,3E5],u,z=[],w=0,v=!1,p=!1,y={};y.init=h;y.show=e;y.hide=c;Antavo.PollToast=y})(document);Antavo=window.Antavo||{};
Antavo.ReviewHelper=function(b){function k(){var b=window.location.hash.substr(1),c=document.querySelector('[data-antavo-review-thread-container], [class*="antavo-review-thread-container-"]');-1<b.indexOf("!submitReview")&&(c&&-1==c.src.indexOf("/create")?c.src=c.src.replace("?","/create?"):setTimeout(function(){k()},500))}function e(b){if(Antavo.SDK.getBrandId()){if(0<b.length){for(var f="?items=",h=0;h<b.length;h++)f+=b[h]+",";Antavo.AJAX.get(Antavo.SDK.getReviewsUrl()+"/items/"+f,function(e){for(var f=
0;f<e.length;f++)c(e[f].id.toString(),e[f].rating.toString(),!0);for(e=0;e<b.length;e++)c(b[e].toString(),0,!1)})}}else setTimeout(function(){e(b)},500)}function c(b,c,e){var f=document.createElement("IMG"),h=z.indexOf(b);f.src=Antavo.SDK.getCDNUrl()+"/img/reviews/rating/"+parseInt(Math.round(c))+".png";document.querySelector('[data-arw-item="'+b+'"]').appendChild(f);e&&z.splice(h,1)}function n(b,c,e){if(!(0>e)){var f=(c-b.scrollTop)/e*10,h="undefined"!==typeof InstallTrigger;Antavo.isIE()||h?setTimeout(function(){document.documentElement.scrollTop=
b.scrollTop+f;document.documentElement.scrollTop!=c&&n(document.documentElement,c,e-10)},10):setTimeout(function(){b.scrollTop+=f;b.scrollTop!=c&&n(b,c,e-10)},10)}}function f(b){if(Antavo.SDK.getBrandId()){if(b.querySelector("iframe")||"IFRAME"==b.nodeName){var c="IFRAME"==b.nodeName?b:b.querySelector("iframe");c.style.width="100%";c.style.height="200";c.style.border="none";c.style.overflow="hidden";c.setAttribute("scrolling","no")}else{c=document.createElement("iframe");var e=b.getAttribute("data-ar-item-id"),
h=b.hasAttribute("data-ar-customer-id")?b.getAttribute("data-ar-customer-id"):!1,m=b.getAttribute("data-ar-item-url");c.src=h?Antavo.SDK.getReviewsUrl()+"/items/"+e+"/thread?item_url="+m+"&customer="+h:Antavo.SDK.getReviewsUrl()+"/items/"+e+"/thread?item_url="+m;c.className="antavo-review-thread-container-"+e;c.style.width="100%";c.style.height="200";c.style.border="none";c.style.overflow="hidden";c.setAttribute("scrolling","no");b.appendChild(c)}l=new Talker(c.contentWindow,"*");l.onMessage=function(b){"antavoReviewFrame"===
b.namespace&&(null!=c.offsetParent&&b.data.height&&(c.style.height=b.data.height+"px"),b.data.scrollToTop&&!u&&n(document.body,document.querySelector('[class*="antavo-review-thread-container-"], [data-antavo-review-thread-container], [data-ar-item-id]').offsetParent.offsetTop,600))}}else setTimeout(function(){f(b)},500)}var q,h,l=null,u=!1,z=[];document.addEventListener("antavo_sdk_init_finished",function(){q=document.querySelectorAll("[data-ar-item-id]");h=document.querySelectorAll("[data-arw-item]");
for(var b=0;b<q.length;b++)f(q[b]);for(b=0;b<h.length;b++){var c=h[b],p=c.getAttribute("data-arw-item");c.hasAttribute("data-arw-mode")&&c.getAttribute("data-arw-mode");z.push(p)}e(z);k()});window.addEventListener("beforeunload",function(){u=!0});window.onhashchange=k}(Antavo);Antavo=window.Antavo||{};
Antavo.Widget=function(b){function k(){if(E)return F.style.display="",F.classList.remove("top-right","bottom-right","bottom-left","top-left","sticky","filled"),F.removeAttribute("hidden"),F.classList.add(D.alignment),D.attached&&(F.classList.add("sticky"),!1===D.on_hover&&(F.classList.add("filled"),F.classList.remove("always-on"))),!0;setTimeout(function(){k()},500)}function e(){return{horizontal:D.alignment.substr(D.alignment.indexOf("-")+1),vertical:D.alignment.substr(0,D.alignment.indexOf("-"))}}
function c(a){var b=a&&U.test(a),d=a?a:D.url,c=u(),f=Antavo.isMobile().any();U.lastIndex=0;if(b||"undefined"===typeof a)if(c.src!=d)c.src=d;else{c.classList.add("open");c.classList.add(e().horizontal);return}else if(c.src!=l(d))c.src=l(d);else{c.classList.add("open");c.classList.add(e().horizontal);return}c.onload=function(){this.classList.add("open");this.classList.add(e().horizontal);S=new Talker(c.contentWindow,"*");S.onMessage=function(a){if("antavoWidgetFrame"===a.namespace){"close"==a.data.command&&
h();"set-cookie"==a.data.command&&Antavo.SDK.setOptinCookie(a.data.href);if("unset-cookie"==a.data.command){var b=Antavo.Cookie.get("__alo");b&&(Antavo.Cookie.expire("__alo",b,"/",Antavo.SDK.getTopDomain()),S.send("antavoWidgetFrame",{command:"reload-frame"}))}"failure"==a.data.command&&w("WAIT",[a.data.points,a.data.cooldown]);"success"==a.data.command&&w("CONGRATS",[a.data.points])}};null!==f&&"undefined"!==typeof f&&this.contentDocument.body.classList.add("mobile");"top-left"!==D.alignment&&"bottom-left"!==
D.alignment||this.contentDocument.body.classList.add("left");this.onload=null};g=!0}function n(){return-1<location.hostname.indexOf(".co.uk")?location.hostname.split(".").slice(-3).join("."):location.hostname.split(".").slice(-2).join(".")}function f(){!(Antavo.SDK.getCustomer()||D.display&&parseInt(100/D.frequency)>=Math.floor(100*Math.random())+1)||a||t||C||(C=!0,Antavo.AJAX.get(D.url+"/rewards/recommended",function(a){D.display&&"object"===typeof a&&a.hasOwnProperty("id")&&(q(a.id),w("REWARD",
[a]),F.onclick=function(a){a.preventDefault();a.stopPropagation();a.stopImmediatePropagation();a.canceled=!0;c(D.url)})},function(a){console.error(a)}))}function q(a){var b=Antavo.Cookie.get("__awp");b&&Antavo.Cookie.expire("__awp",b,"/",n());Antavo.Cookie.set("__awp",a,2629743,"/",n())}function h(){g=!1;u().classList.remove("open")}function l(a){return O.hasOwnProperty(a)?O[a]:!1}function u(a){a=a?a:window.parent;if(a.document.getElementById(P.widgetFrame))a=a.document.getElementById(P.widgetFrame);
else{a=window.parent.document;var b=a.createElement("IFRAME");b.setAttribute("id",P.widgetFrame);b.classList.add(e().horizontal);a=a.body.appendChild(b)}return a}function z(a){if(a.hasOwnProperty("status")&&("opted_out"==a.status||"banned"==a.status)||Antavo.isMobile().any())return!1;if(Antavo.SDK.getBrandUrl()){if(F.setAttribute("customer",a.handler?a.handler:a.first_name?a.first_name:"Anonymous"),a.image_url&&(document.getElementById("antavo-widget-customer-avatar").style.backgroundImage="url("+
a.image_url+")"),Antavo.SDK.getOption("widget","enabled"),Antavo.SDK.isWidgetEnabled()&&!t&&f(),Antavo.SDK.getOption("widget","quiz")&&!G){var b=new Antavo.URL(window.parent.location.href),d=1==(new Antavo.URL(window.parent.location.href)).params.__al;G=!0;b.hash=null;b.port=null;delete b.params.__al;delete b.params.__s;F.onclick=null;Antavo.AJAX.get(Antavo.SDK.getAPIUrl()+"/"+Antavo.SDK.getCustomerId()+"/visit/"+encodeURIComponent(b.toString())+"?api_key="+Antavo.SDK.getAPIKey(),function(a){if(a.hasOwnProperty("quiz")){if(a.quiz.hasOwnProperty("url")&&
null!==a.quiz.url)t=!0;else return!1;D.display=!1;d||Antavo.SDK.send("visit",{url:window.parent.location.href});if(null===a.quiz.is_correct)w("POINTS_AVAILABLE",[a.quiz.points]),L=a.quiz.url,F.onclick=function(){c(L)};else if(!a.quiz.is_correct){var b=new Date;a.quiz.hasOwnProperty("answer_in")?1E3*a.quiz.answer_in>b.getTime()&&(w("WAIT",[a.quiz.points,a.quiz.answer_in]),L=a.quiz.url,F.onclick=function(a){a.preventDefault();a.stopPropagation();a.stopImmediatePropagation();a.canceled=!0;c(L)}):(w("POINTS_AVAILABLE",
[a.quiz.points]),L=a.quiz.url,F.onclick=function(a){a.preventDefault();a.stopPropagation();a.stopImmediatePropagation();a.canceled=!0;c(L)})}}},function(a){})}}else setTimeout(function(){z(a)},1E3)}function w(b,c){if(Antavo.isMobile().any())return!1;var g=F.querySelector(".antavo-widget-tooltip");d=!0;F.className="show";k();F.querySelector("antavo-widget-tooltip")&&F.removeChild(F.querySelector(".antavo-widget-tooltip"));switch(b){case "CONGRATS":F.classList.add("announce");g&&F.removeChild(g);K.innerHTML=
"";K.appendChild(Antavo.DOM.fromString('<div class="points-available">'+m(c[0])+"</div>"));break;case "POINTS_AVAILABLE":F.classList.add("announce");g&&F.removeChild(g);K.innerHTML="";K.appendChild(Antavo.DOM.fromString('<div class="points-available">'+y(c[0])+"</div>"));K.appendChild(B(c[0]));break;case "WAIT":F.classList.add("announce");K.innerHTML="";K.appendChild(Antavo.DOM.fromString('<div class="counter">'+Antavo.SDK.getKey("aw_cq_play_again")+'<span id="antavo-widget-counter"></span><em>'+
Antavo.SDK.getKey("aw_cq_play_again_postfix")+"</em></div>"));v(c[1]);K.appendChild(B(c[0]));break;case "REWARD":b=c[0],c=b.small_image?b.small_image:b.image_url?b.image_url:Antavo.SDK.getCDNUrl()+"/img/loyalty/rewards/"+b.type+".svg",F.classList.add("announce","reward"),t||(a=!0,!1!==D.on_hover||D.attached||F.classList.add("always-on"),g&&F.removeChild(g),F.appendChild(Antavo.DOM.fromString('<div class="antavo-widget-tooltip">'+b.name+"</div>")),K.innerHTML="",K.appendChild(Antavo.DOM.fromString('<div class="antavo-widget-graphics" style="background-image:url(\''+
c+"')\">")))}}function v(a){var b=countdown(new Date,1E3*a,countdown.DAYS|countdown.HOURS|countdown.MINUTES|countdown.SECONDS),d="";b.days&&(d+=1<b.days+b.days?"days ":"day ");document.getElementById("antavo-widget-counter").innerHTML=d+""+p(b.hours,2)+":"+p(b.minutes,2)+":"+p(b.seconds,2);requestAnimationFrame(function(){v(a)})}function p(a,b){a="000000000"+a;return a.substr(a.length-b)}function y(a){return Antavo.SDK.getKey("aw_cq_get_x_points").replace(/(%s)/gmi,a)}function m(a){return Antavo.SDK.getKey("aw_cq_congrats_got_points").replace(/(%s)/gmi,
a)}function B(a){var b=document.createElement("canvas"),d=b.getContext("2d"),c=[12,10,32,14,16,22,48,13,24,15,9];b.width=70;b.height=70;for(var g=0;40>g;g++)d.font=c[Math.round(10*Math.random())]+"px Arial Black",d.fillStyle="rgba(255,255,255,"+Math.random().toFixed(2)+")",d.fillText(a,Math.floor(80*Math.random())+0,Math.floor(80*Math.random())+0);return b}var E=!1,G=!1,C=!1,A=!1,a=!1,g=!1,d=!1,t=!1,L,S,D={alignment:"top-right",chance:5,frequency:2,on_hover:!0},F,K,O={start:"http://apps-bugfix.antavo.local/quizzes/26206/activities/560a801b693f8b04388b4568"},
P={widgetFrame:"antavo-widget-frame"},U=/http(s?):\/\//gi;(function(){document.addEventListener("click",function(a){Antavo.DOM.closest(a.target,"[data-opt-in]")&&(a.preventDefault(),Antavo.SDK.setOptinCookie())})})();return{isWidgetShowing:function(){return d?e():!1},isSidebarOpen:function(){return g},setTemplate:function(a){document.getElementsByTagName("body")[0].appendChild(Antavo.DOM.fromString(a));F=document.getElementById("antavo-widget");K=document.getElementById("antavo-widget-inner");E=!0;
Antavo.SDK.sendInitEvent();return document.getElementById("antavo-widget")},setStyle:function(a){var b=document.getElementsByTagName("head")[0],d=document.createElement("style");d.type="text/css";d.textContent=a;b.appendChild(d)},update:z,openSidebar:c,closeSidebar:h,setOptions:function(a){return D=a},getOptions:function(){return D},positionWidget:k,storeLotteryResult:function(){if(A)return!0;A=!0;if(!Antavo.Cookie.get("__awd")){console.info("No previous result found, getting a new one.");var a=D.chance>=
Math.floor(100*Math.random())+1;Antavo.Cookie.set("__awd",a?1:0,2629743,"/",n());D.display=a;console.info("And the result is:",D.display);(D.display||Antavo.SDK.getCustomer())&&f();return!!D.display}console.info("Found previous result, getting the cookie...");D.display=!!parseInt(Antavo.Cookie.get("__awd"));console.info("And the result is:",D.display);(D.display||Antavo.SDK.getCustomer())&&f();return!!D.display},events:{},announce:w,isReady:function(){return E}}}(Antavo);
(function(){var b=function(){function b(b){"undefined"!=typeof setImmediate?setImmediate(b):"undefined"!=typeof process&&process.nextTick?process.nextTick(b):setTimeout(b,0)}return function f(){var c,e=[],l=[],u=function(f,h){return null==c&&null!=f&&(c=f,e=h,l.length&&b(function(){for(var b=0;l.length>b;b++)l[b]()})),c};return u.then=function(h,u){var k=f(),p=function(){function b(c){var e,f=0;try{if(!c||"object"!=typeof c&&"function"!=typeof c||"function"!=typeof(e=c.then))k(!0,arguments);else{if(c===
k)throw new TypeError;e.call(c,function(){f++||b.apply(void 0,arguments)},function(b){f++||k(!1,[b])})}}catch(C){f++||k(!1,[C])}}try{var f=c?h:u;"function"==typeof f?b(f.apply(void 0,e||[])):k(c,e)}catch(B){k(!1,[B])}};return null!=c?b(p):l.push(p),k},u}}(),k=function(b){function c(){}return c.prototype=b,new c},e=function(c,e){this.remoteWindow=c;this.remoteOrigin=e;this.timeout=3E3;this.handshaken=!1;this.handshake=b();this._id=0;this._queue=[];this._sent={};var f=this;return window.addEventListener("message",
function(b){f._receiveMessage(b)},!1),this._sendHandshake(),this};e.prototype.send=function(c,n,f){c=new e.OutgoingMessage(this,c,n,f);var k=b();return this._sent[c.id]=k,this._queue.push(c),this._flushQueue(),setTimeout(function(){k(!1,[Error("timeout")])},this.timeout),k};e.prototype._receiveMessage=function(b){var c;try{var e=JSON.parse(b.data)}catch(q){e={}}return this._isSafeMessage(b.source,b.origin,e.type)?(c=e.handshake||e.handshakeConfirmation,c?this._handleHandshake(e):this._handleMessage(e)):
!1};e.prototype._isSafeMessage=function(b,e,f){var c,h,l;return c=b===this.remoteWindow,h="*"===this.remoteOrigin||e===this.remoteOrigin,l="application/x-talkerjs-v1+json"===f,c&&h&&l};e.prototype._handleHandshake=function(b){b.handshake&&this._sendHandshake(this.handshaken);this.handshaken=!0;this.handshake(!0,[this.handshaken]);this._flushQueue()};e.prototype._handleMessage=function(b){var c=new e.IncomingMessage(this,b.namespace,b.data,b.id);return(b=b.responseToId)?this._respondToMessage(b,c):
this._broadcastMessage(c)};e.prototype._respondToMessage=function(b,e){this._sent[b]&&(this._sent[b](!0,[e]),delete this._sent[b])};e.prototype._broadcastMessage=function(b){this.onMessage&&this.onMessage.call(this,b)};e.prototype._sendHandshake=function(b){var c={type:"application/x-talkerjs-v1+json"};c[b?"handshakeConfirmation":"handshake"]=!0;this._postMessage(c)};e.prototype._nextId=function(){return this._id+=1};e.prototype._postMessage=function(b){this.remoteWindow&&this.remoteOrigin&&this.remoteWindow.postMessage(JSON.stringify(b),
this.remoteOrigin)};e.prototype._flushQueue=function(){if(this.handshaken){var b=this._queue.shift();if(!b)return this._queue;if(this._postMessage(b),0<this._queue.length)return this._flushQueue()}return this._queue};e.Message=function(b,e,f){return this.talker=b,this.namespace=e,this.data=f,this.type="application/x-talkerjs-v1+json",this};e.OutgoingMessage=function(b,k,f,q){e.Message.call(this,b,k,f);this.responseToId=q||null;this.id=this.talker._nextId()};e.OutgoingMessage.prototype=k(e.Message.prototype);
e.OutgoingMessage.prototype.constructor=e.Message;e.OutgoingMessage.prototype.toJSON=function(){return{id:this.id,responseToId:this.responseToId,namespace:this.namespace,data:this.data,type:this.type}};e.IncomingMessage=function(b,k,f,q){e.Message.call(this,b,k,f);this.id=q};e.IncomingMessage.prototype=k(e.Message.prototype);e.IncomingMessage.prototype.constructor=e.Message;e.IncomingMessage.prototype.respond=function(b){return this.talker.send(null,b,this.id)};window.Talker=e})();
var module,countdown=function(b){function k(a,b){var d=a.getTime();a.setMonth(a.getMonth()+b);return Math.round((a.getTime()-d)/864E5)}function e(a){var b=a.getTime(),d=new Date(b);d.setMonth(a.getMonth()+1);return Math.round((d.getTime()-b)/864E5)}function c(a,b){b=b instanceof Date||null!==b&&isFinite(b)?new Date(+b):new Date;if(!a)return b;var d=+a.value||0;if(d)return b.setTime(b.getTime()+d),b;(d=+a.milliseconds||0)&&b.setMilliseconds(b.getMilliseconds()+d);(d=+a.seconds||0)&&b.setSeconds(b.getSeconds()+
d);(d=+a.minutes||0)&&b.setMinutes(b.getMinutes()+d);(d=+a.hours||0)&&b.setHours(b.getHours()+d);(d=+a.weeks||0)&&(d*=7);(d+=+a.days||0)&&b.setDate(b.getDate()+d);(d=+a.months||0)&&b.setMonth(b.getMonth()+d);(d=+a.millennia||0)&&(d*=10);(d+=+a.centuries||0)&&(d*=10);(d+=+a.decades||0)&&(d*=10);(d+=+a.years||0)&&b.setFullYear(b.getFullYear()+d);return b}function n(a,b){return E(a)+(1===a?w[b]:v[b])}function f(){}function q(a,b,d,c,f,h){0<=a[d]&&(b+=a[d],delete a[d]);b/=f;if(1>=b+1)return 0;if(0<=a[c]){a[c]=
+(a[c]+b).toFixed(h);switch(c){case "seconds":if(60!==a.seconds||isNaN(a.minutes))break;a.minutes++;a.seconds=0;case "minutes":if(60!==a.minutes||isNaN(a.hours))break;a.hours++;a.minutes=0;case "hours":if(24!==a.hours||isNaN(a.days))break;a.days++;a.hours=0;case "days":if(7!==a.days||isNaN(a.weeks))break;a.weeks++;a.days=0;case "weeks":if(a.weeks!==e(a.refMonth)/7||isNaN(a.months))break;a.months++;a.weeks=0;case "months":if(12!==a.months||isNaN(a.years))break;a.years++;a.months=0;case "years":if(10!==
a.years||isNaN(a.decades))break;a.decades++;a.years=0;case "decades":if(10!==a.decades||isNaN(a.centuries))break;a.centuries++;a.decades=0;case "centuries":10!==a.centuries||isNaN(a.millennia)||(a.millennia++,a.centuries=0)}return 0}return b}function h(a,b,d,c,f,h){var g=new Date;a.start=b=b||g;a.end=d=d||g;a.units=c;a.value=d.getTime()-b.getTime();0>a.value&&(g=d,d=b,b=g);a.refMonth=new Date(b.getFullYear(),b.getMonth(),15,12,0,0);try{a.millennia=0;a.centuries=0;a.decades=0;a.years=d.getFullYear()-
b.getFullYear();a.months=d.getMonth()-b.getMonth();a.weeks=0;a.days=d.getDate()-b.getDate();a.hours=d.getHours()-b.getHours();a.minutes=d.getMinutes()-b.getMinutes();a.seconds=d.getSeconds()-b.getSeconds();a.milliseconds=d.getMilliseconds()-b.getMilliseconds();var p;0>a.milliseconds?(p=u(-a.milliseconds/1E3),a.seconds-=p,a.milliseconds+=1E3*p):1E3<=a.milliseconds&&(a.seconds+=z(a.milliseconds/1E3),a.milliseconds%=1E3);0>a.seconds?(p=u(-a.seconds/60),a.minutes-=p,a.seconds+=60*p):60<=a.seconds&&(a.minutes+=
z(a.seconds/60),a.seconds%=60);0>a.minutes?(p=u(-a.minutes/60),a.hours-=p,a.minutes+=60*p):60<=a.minutes&&(a.hours+=z(a.minutes/60),a.minutes%=60);for(0>a.hours?(p=u(-a.hours/24),a.days-=p,a.hours+=24*p):24<=a.hours&&(a.days+=z(a.hours/24),a.hours%=24);0>a.days;)a.months--,a.days+=k(a.refMonth,1);7<=a.days&&(a.weeks+=z(a.days/7),a.days%=7);0>a.months?(p=u(-a.months/12),a.years-=p,a.months+=12*p):12<=a.months&&(a.years+=z(a.months/12),a.months%=12);10<=a.years&&(a.decades+=z(a.years/10),a.years%=10,
10<=a.decades&&(a.centuries+=z(a.decades/10),a.decades%=10,10<=a.centuries&&(a.millennia+=z(a.centuries/10),a.centuries%=10)));b=0;!(c&1024)||b>=f?(a.centuries+=10*a.millennia,delete a.millennia):a.millennia&&b++;!(c&512)||b>=f?(a.decades+=10*a.centuries,delete a.centuries):a.centuries&&b++;!(c&256)||b>=f?(a.years+=10*a.decades,delete a.decades):a.decades&&b++;!(c&128)||b>=f?(a.months+=12*a.years,delete a.years):a.years&&b++;!(c&64)||b>=f?(a.months&&(a.days+=k(a.refMonth,a.months)),delete a.months,
7<=a.days&&(a.weeks+=z(a.days/7),a.days%=7)):a.months&&b++;!(c&32)||b>=f?(a.days+=7*a.weeks,delete a.weeks):a.weeks&&b++;!(c&16)||b>=f?(a.hours+=24*a.days,delete a.days):a.days&&b++;!(c&8)||b>=f?(a.minutes+=60*a.hours,delete a.hours):a.hours&&b++;!(c&4)||b>=f?(a.seconds+=60*a.minutes,delete a.minutes):a.minutes&&b++;!(c&2)||b>=f?(a.milliseconds+=1E3*a.seconds,delete a.seconds):a.seconds&&b++;if(!(c&1)||b>=f){var m=q(a,0,"milliseconds","seconds",1E3,h);if(m&&(m=q(a,m,"seconds","minutes",60,h))&&(m=
q(a,m,"minutes","hours",60,h))&&(m=q(a,m,"hours","days",24,h))&&(m=q(a,m,"days","weeks",7,h))&&(m=q(a,m,"weeks","months",e(a.refMonth)/7,h))){c=m;var l=a.refMonth,t=l.getTime(),n=new Date(t);n.setFullYear(l.getFullYear()+1);var y=Math.round((n.getTime()-t)/864E5);if((m=q(a,c,"months","years",y/e(a.refMonth),h))&&(m=q(a,m,"years","decades",10,h))&&(m=q(a,m,"decades","centuries",10,h))&&q(a,m,"centuries","millennia",10,h))throw Error("Fractional unit overflow");}}}finally{delete a.refMonth}return a}
function l(a,b,d,e,p){var g;d=+d||222;e=0<e?e:NaN;p=0<p?20>p?Math.round(p):20:0;var m=null;"function"===typeof a?(g=a,a=null):a instanceof Date||(null!==a&&isFinite(a)?a=new Date(+a):("object"===typeof m&&(m=a),a=null));var l=null;"function"===typeof b?(g=b,b=null):b instanceof Date||(null!==b&&isFinite(b)?b=new Date(+b):("object"===typeof b&&(l=b),b=null));m&&(a=c(m,b));l&&(b=c(l,a));if(!a&&!b)return new f;if(!g)return h(new f,a,b,d,e,p);m=d&1?1E3/30:d&2?1E3:d&4?6E4:d&8?36E5:d&16?864E5:6048E5;var k;
l=function(){g(h(new f,a,b,d,e,p),k)};l();return k=setInterval(l,m)}var u=Math.ceil,z=Math.floor,w,v,p,y,m,B,E;f.prototype.toString=function(a){var b=G(this),d=b.length;if(!d)return a?""+a:m;if(1===d)return b[0];a=p+b.pop();return b.join(y)+a};f.prototype.toHTML=function(a,b){a=a||"span";var d=G(this),c=d.length;if(!c)return(b=b||m)?"<"+a+">"+b+"</"+a+">":b;for(b=0;b<c;b++)d[b]="<"+a+">"+d[b]+"</"+a+">";if(1===c)return d[0];c=p+d.pop();return d.join(y)+c};f.prototype.addTo=function(a){return c(this,
a)};var G=function(a){var b=[],d=a.millennia;d&&b.push(B(d,10));(d=a.centuries)&&b.push(B(d,9));(d=a.decades)&&b.push(B(d,8));(d=a.years)&&b.push(B(d,7));(d=a.months)&&b.push(B(d,6));(d=a.weeks)&&b.push(B(d,5));(d=a.days)&&b.push(B(d,4));(d=a.hours)&&b.push(B(d,3));(d=a.minutes)&&b.push(B(d,2));(d=a.seconds)&&b.push(B(d,1));(d=a.milliseconds)&&b.push(B(d,0));return b};l.MILLISECONDS=1;l.SECONDS=2;l.MINUTES=4;l.HOURS=8;l.DAYS=16;l.WEEKS=32;l.MONTHS=64;l.YEARS=128;l.DECADES=256;l.CENTURIES=512;l.MILLENNIA=
1024;l.DEFAULTS=222;l.ALL=2047;var C=l.setFormat=function(a){if(a){if("singular"in a||"plural"in a){var b=a.singular||[];b.split&&(b=b.split("|"));var d=a.plural||[];d.split&&(d=d.split("|"));for(var c=0;10>=c;c++)w[c]=b[c]||w[c],v[c]=d[c]||v[c]}"string"===typeof a.last&&(p=a.last);"string"===typeof a.delim&&(y=a.delim);"string"===typeof a.empty&&(m=a.empty);"function"===typeof a.formatNumber&&(E=a.formatNumber);"function"===typeof a.formatter&&(B=a.formatter)}},A=l.resetFormat=function(){w=" millisecond; second; minute; hour; day; week; month; year; decade; century; millennium".split(";");
v=" milliseconds; seconds; minutes; hours; days; weeks; months; years; decades; centuries; millennia".split(";");p=" and ";y=", ";m="";E=function(a){return a};B=n};l.setLabels=function(a,b,d,c,e,f,h){C({singular:a,plural:b,last:d,delim:c,empty:e,formatNumber:f,formatter:h})};l.resetLabels=A;A();b&&b.exports?b.exports=l:"function"===typeof window.define&&"undefined"!==typeof window.define.amd&&window.define("countdown",[],function(){return l});return l}(module);Antavo=window.Antavo||{};
(function(b){function k(){var c=b.querySelector("[data-copy-button]");if(c){var e=b.querySelector("#"+c.getAttribute("data-copy-button"))||!1;e&&c.addEventListener("click",function(){n(e,c)})}}function e(){if(Antavo&&Antavo.SDK&&Antavo.SDK.getBrandId()){var h=b.querySelector('iframe[src*="'+Antavo.SDK.getBrandUrl().replace(/http[s]*:\/\//gm,"")+'"]:not([src*="/share/"]):not([src*="/referral/"])')||b.querySelector("#loyalty-center-frame"),l=h&&h.getAttribute("src");if(h){if(window.performance&&window.performance.navigation.type===
window.performance.navigation.TYPE_BACK_FORWARD)try{h.contentWindow.location.reload(!0)}catch(u){h.setAttribute("src",""),h.setAttribute("src",l)}f=new Talker(h.contentWindow,"*");h.onload=function(){f.send("antavoLoyaltyCenter",{command:"content-loaded",mobile:!!Antavo.isMobile().any()})};b.addEventListener("antavo_sdk_init_finished",function(){f.send("antavoLoyaltyCenter",{command:"content-loaded",mobile:!!Antavo.isMobile().any()})});f.onMessage=function(c){if("antavoLoyaltyCenter"===c.namespace)if("resize-frame"===
c.data.command)null!=h.offsetParent&&c.data.height&&(480<c.data.height?(h.style.height=c.data.height+"px",c.data.selector&&b.querySelector(c.data.selector)&&(b.querySelector(c.data.selector).style.height=c.data.height+"px")):h.style.height="480px"),null!=h.offsetParent&&c.data.width&&(h.style.width="100%");else if("open-social-share"===c.data.command)Antavo.Popup.display(c.data.url);else if("open-raf-share"===c.data.command){var e=Antavo.SDK.getExtensionInfo("socialshare")?Antavo.SDK.getExtensionInfo("socialshare").url:
Antavo.SDK.getExtensionInfo("friendreferral").share_url;"facebook"===c.data.network?FB.ui({method:"share",href:c.data.url,display:"iframe"},function(b){b&&(Antavo.SDK.send("share",{network:"facebook",url:c.data.url}),Antavo.Popup.display(Antavo.Popup.getShareUrl(Antavo.SDK.getBrandUrl())+"/success"))}):Antavo.Popup.display(e+"/"+c.data.network+"/referral?url="+c.data.url)}else if("open-video"===c.data.command)(e=c.data.video)&&void 0!=e&&Antavo.Video.openVideo(e);else if("get-variable"===c.data.command)f.send("antavoLoyaltyCenter",
{command:"send-variable",variable:window[c.data.variable]});else if("where-am-i"===c.data.command)f.send("antavoLoyaltyCenter",{command:"you-are-here",position:h.getBoundingClientRect()});else if("scotty-beam-me-up"===c.data.command)e=c.data.offset||0,window.jQuery?jQuery("html, body").stop().animate({scrollTop:jQuery(h).offset().top+e},1E3):console.warn("Sorry, this command needs jQuery to function");else if("inject-element"===c.data.command){e=c.data.method||"appendChild";var l=c.data.html_string,
k=b.querySelector(c.data.selector||"body");switch(e){case "appendChild":k.appendChild(Antavo.DOM.fromString(l));break;default:k.parentNode.insertBefore(Antavo.DOM.fromString(l),k)}}else"remove-element"===c.data.command?(console.info("Got request from inner frame"),k=b.querySelector(c.data.content_selector),k.parentNode.removeChild(k)):"redirect"===c.data.command&&c.data.target&&(window.location=c.data.target)}}k();c()}else setTimeout(function(){e()},1E3)}function c(){var c=Antavo.Automation.getStoredURL();
if(c&&"undefined"!=typeof c&&(c=new Antavo.URL(c),c.params.lc_url&&(c=decodeURIComponent(c.params.lc_url))&&"undefined"!=typeof c&&c.length)){var e=b.querySelector("#loyalty-center-frame");e&&(e.src=c)}}function n(c,e){if(b.queryCommandSupported("copy")&&c){c.select();try{var f=b.execCommand("copy");c.blur();e&&f?e.innerHTML="Copied":e&&(e.innerHTML="please press Ctrl/Cmd+C to copy")}catch(z){e&&(e.innerHTML="please press Ctrl/Cmd+C to copy")}}}var f,q={};e();q.init=e;q.copyToClipboard=n;q.submitForm=
function(b){console.info("Got the form ID:",b);f&&f.send("antavoLoyaltyCenter",{command:"submit-form",form_submit:b})};Antavo.LoyaltyCenter=q})(document);Antavo=window.Antavo||{};
(function(b){function k(b,e){var h=[],p=0;[].forEach.call(b,function(b){var m=(c(b,e)*(u/100)*b.value).toFixed();h.push(f(b.value,c(b,e)));p+=Number(m)});h.push(f(p,1,100));return h}function e(b){try{return JSON.parse(b)}catch(y){return!1}}function c(b,c){for(var e=0;e<c.length;e++){var f=c[e];if(n(b[f.property],f.operator,f.value))return c[e].multiplier}return 1}function n(b,c,e){switch(c){case "start":return!!b.match("^("+e+")");case "not_start":return!b.match("^("+e+")");case "end":return!!b.match("("+
e+"$)");case "not_end":return!b.match("("+e+"$)");case "contain":return-1!=b.indexOf(e);case "not_contain":return-1==b.indexOf(e);case "equal":return b===e;case "not_equal":return b!==e;case "less":return b<e;case "not_greater":return b<=e;case "greater":return b>e;case "not_less":return b>=e;case "between":return b>=e[0]&&b<=e[1];case "exists":return null!=b&&"undefined"!=typeof b&&""!=b;case "not_exists":return!(null!=b&&"undefined"!=typeof b&&""!=b);default:console.error("Unsupported operator type:"+
c)}}function f(b,c,e){c=c||1;e=e||u;l||(l=Antavo.SDK.getKey("lc_aip_inner_content"));return l.replace(/%d/g,(e/100*c*b).toFixed())}function q(){for(var h=b.querySelectorAll(".aip-point-display"),k=0;k<h.length;k++)h[k].hasAttribute("data-aip-properties")?w.addSnippets({elem:h[k],points:h[k].getAttribute("data-aip-value"),properties:e(h[k].getAttribute("data-aip-properties"))}):w.addSnippets({elem:h[k],points:h[k].getAttribute("data-aip-value")});h=w.getSnippets();var m;for(k=0;k<h.length;k++){var l=
h[k].elem,n=1;try{n=l.getAttribute("data-aip-value")}catch(C){}l.hasAttribute("data-aip-summary")||(l.hasAttribute("data-aip-properties")&&(m=e(l.getAttribute("data-aip-properties")))?(n=m.value||n,l.innerHTML=f(n,c(m,z))):l.innerHTML=f(n))}m=w.getSnippets();h={};for(k=0;k<m.length;k++)m[k].hasOwnProperty("properties")&&m[k].properties.hasOwnProperty("group")&&(l=m[k].properties,h[l.group]=h[l.group]?h[l.group]:0,h[l.group]+=parseInt(l.value));for(var q in h)for(k=0;k<m.length;k++)m[k].elem.hasAttribute("data-aip-summary")&&
m[k].elem.getAttribute("data-aip-summary")==q&&(m[k].elem.innerHTML=f(h[q],1,100))}function h(){if(Antavo.SDK.getBrandId()){if(Antavo.SDK.getExtensionInfo("incentivizedpurchase")){l=Antavo.SDK.getKey("lc_aip_inner_content");u=Antavo.SDK.getExtensionInfo("incentivizedpurchase","percentage");var b=Antavo.SDK.getExtensionInfo("incentivizedpurchase","campaigns"),c=[];if(b instanceof Array&&0<b.length)for(var e=0;e<b.length;e++)c.push(b[e]);z=c;q()}}else window.setTimeout(h,1E3)}var l="",u,z=[],w={snippets:[],
getSnippets:function(){return this.snippets},addSnippets:function(b){this.snippets.push(b)}},v={};v.init=h;v.reflow=q;v.clear=function(b){for(var c=w.getSnippets(),e;e<c.length;e++){var f=c[e].elem;f.innerHTML="";b&&null!=f.parentNode&&f.parentNode.removeChild(f)}};v.setStyle=function(c){var e=b.head,f=b.createElement("style");f.setAttribute("id","aip-custom-stylesheet");f.innerHTML=c;e.appendChild(f)};v.getPoints=function(b){return k(b,z)};Antavo.IncentivizedPurchase=v})(document);
Antavo=window.Antavo||{};
(function(b){function k(){b.addEventListener("click",function(b){Antavo.DOM.closest(b.target,"[data-open-quiz-popup]")&&(b=Antavo.DOM.closest(b.target,"[data-open-quiz-popup]"),Antavo.Popup.display(b.getAttribute("data-open-quiz-popup").toString()))})}function e(){if(Antavo.SDK.getCustomer()&&Antavo.SDK.getExtensionInfo("contentconsumption","quiz_url")){var c=Antavo.SDK.getExtensionInfo("contentconsumption");c.visit&&c.quiz_url&&b.addEventListener("scroll",function(){var e=b.documentElement.scrollTop||
b.body.scrollTop;if(!f&&e>=.5*(b.body.clientHeight-window.innerHeight)){e=c.visit;var h=c.quiz_url,n;b.querySelector(".antavo-quiz-widget")||b.getElementsByTagName("body")[0].appendChild(Antavo.DOM.fromString('<div class="antavo-quiz-widget antavo-hidden"><a href="#" data-open-quiz-popup="#"><p data-quiz-widget-text>Take the quiz</p><p data-quiz-widget-points>get 30 points</p></a></div>'));if(n=b.querySelector(".antavo-quiz-widget")){var q=n.querySelector("[data-open-quiz-popup]"),v=n.querySelector("[data-quiz-widget-text]"),
p=Antavo.SDK.getKey("lc_quiz_take_quiz")||"Take our quiz",y=Antavo.SDK.getKey("lc_quiz_get_points")||"Get %s points!",m=n.querySelector("[data-quiz-widget-points]");q&&v&&e&&(q.setAttribute("data-open-quiz-popup",h),v.innerHTML=p,m&&y.match(/%s/)&&(m.innerHTML=y.replace(/%s/,e)),n.classList.remove("antavo-hidden"),k(),f=!0)}}})}}function c(){Antavo.SDK&&Antavo.SDK.getBrandId()?Antavo.SDK.getExtensionInfo("contentconsumption")&&e():setTimeout(function(){c()},1E3)}function n(){b.addEventListener("antavo_sdk_init_finished",
function(){c()})}var f=!1;n();var q={};q.init=n;q.hide=function(){var c=b.querySelector(".antavo-quiz-widget");c&&c.classList.add("antavo-hidden")};Antavo.Quiz=q})(document);Antavo=window.Antavo||{};
Antavo.tresureHunting=function(){function b(){if(Antavo.SDK.getBrandId()){var k=Antavo.SDK.getExtensionInfo("treasure_hunt");if(k)for(var e=location.protocol+"//"+location.host+location.pathname,c=0;c<k.length;c++)if(k[c].url===e){Antavo.AJAX.post(Antavo.SDK.getAPIUrl(),{api_key:Antavo.SDK.getAPIKey(),customer:Antavo.SDK.getCustomerId(),action:"treasure_found",data:{treasure_id:k[c].id}},function(){Antavo.PollToast.init()});break}}else setTimeout(b,1E3)}return{init:b}}(Antavo,document);Antavo.tresureHunting.init();
Antavo.Video.injectTemplate('<div id="tpl-remaining-box" class="antavo-remaining-box antavo-hidden" style="opacity: 0; display: none;"> <div class="antavo-remaining-box-main-block antavo-counting loggedin antavo-hidden"> \x3c!-- Logged in customer --\x3e <div class="antavo-arrow-box-left"> <span> <img id="antavo-remaining-box-image" src=""><span id="antavo-remaining-box-name"></span> </span> </div> <div class="antavo-remaining-box-counter"> <span id="remaining-time"><strong></strong> and you will get your points</span> </div> <div class="antavo-remaining-box-pointer-pentagon"> <span> <strong><span id="antavo-remaining-box-point-value">50</span></strong> <p class="antavo-remaining-box-point" id="antavo-remaining-box-point-label">kredit</p> </span> </div> </div> <div class="antavo-remaining-box-main-block antavo-counting guest antavo-hidden"> \x3c!-- Guest --\x3e <div class="antavo-remaining-box-pointer-pentagon-left"> <span> <strong> <span id="antavo-remaining-box-point-value2">50</span> </strong> <p class="antavo-remaining-box-point" id="antavo-remaining-box-point-label2"></p> </span> </div> <div class="antavo-remaining-box-counter"> <span id="remaining-time2"> <strong></strong> </span> </div> <div class="antavo-arrow-box-right"> <span> <a id="antavo-remaining-box-login-url" href="" role="button"> <strong id="antavo-remaining-box-login-link"></strong> </a> </span> </div> </div> <div class="antavo-remaining-box-main-block antavo-successful antavo-hidden"> \x3c!-- Successfully/Already watched video --\x3e <div class="success-wrapper"> \x3c!-- Place success message here --\x3e </div> </div> </div>');
Antavo.Video.injectTemplate('<template id="tpl-video-frame"> <div id="antavo-loyalty-video-dialog"> <a data-close-video-dialog>\u00d7</a> <div class="flex-video"> {{content}} </div> </div> </template>');Antavo.Widget.setStyle("/** * Vendor prefix mixin * --- * Specify the property name (can be unqouted) and the value (quoted) * and this mixin takes care of the rest. * */ @import url(\"https://fonts.googleapis.com/css?family=Roboto:100,300,400,700\"); .widget-body, .widget-body .widget-section, .widget-body article { margin: 0; padding: 0; height: 100%; overflow: hidden; } #antavo-widget-frame { background-color: transparent; border: 0; border-left: 0; width: 340px; height: 100%; top: 0; right: 0; position: fixed; transition: all 0.75s ease-in-out; -webkit-transform: translateX(500px); -ms-transform: translateX(500px); -moz-transform: translateX(500px); -o-transform: translateX(500px); transform: translateX(500px); will-change: transform; z-index: 2147483646; } #antavo-widget-frame.open { -webkit-transform: translateX(0); -ms-transform: translateX(0); -moz-transform: translateX(0); -o-transform: translateX(0); transform: translateX(0); } #antavo-widget-frame.open.left { left: 0; -webkit-transform: translateX(0); -ms-transform: translateX(0); -moz-transform: translateX(0); -o-transform: translateX(0); transform: translateX(0); } #antavo-widget-frame.left { right: auto; left: 0; -webkit-transform: translateX(-500px); -ms-transform: translateX(-500px); -moz-transform: translateX(-500px); -o-transform: translateX(-500px); transform: translateX(-500px); } #antavo-widget { background-size: cover; position: fixed; cursor: pointer; top: 30px; right: 46px; border: 5px solid #FFF; border-radius: 50%; box-sizing: border-box; display: block; width: 80px; height: 80px; transition: all .25s ease-in; opacity: 0; -webkit-transform: scale(0); -ms-transform: scale(0); -moz-transform: scale(0); -o-transform: scale(0); transform: scale(0); z-index: 2147483645; box-shadow: 0 5px 10px 0 rgba(0, 0, 0, 0.2); } #antavo-widget.bottom-left .antavo-widget-tooltip, #antavo-widget.top-left .antavo-widget-tooltip { left: calc(100% + 8px); right: auto; } #antavo-widget.bottom-left .antavo-widget-tooltip:after, #antavo-widget.top-left .antavo-widget-tooltip:after { right: 100%; left: auto; border-color: rgba(43, 43, 43, 0); border-right-color: #2b2b2b; } #antavo-widget.always-on.bottom-left .antavo-widget-tooltip, #antavo-widget.always-on.bottom-right .antavo-widget-tooltip { -webkit-transform: translateY(calc(-100% - 16px)) translateX(-50%); -ms-transform: translateY(calc(-100% - 16px)) translateX(-50%); -moz-transform: translateY(calc(-100% - 16px)) translateX(-50%); -o-transform: translateY(calc(-100% - 16px)) translateX(-50%); transform: translateY(calc(-100% - 16px)) translateX(-50%); top: 0; bottom: auto; } #antavo-widget.always-on .antavo-widget-tooltip { left: 50%; display: block !important; -webkit-transform: translateY(calc(100% + 16px)) translateX(-50%); -ms-transform: translateY(calc(100% + 16px)) translateX(-50%); -moz-transform: translateY(calc(100% + 16px)) translateX(-50%); -o-transform: translateY(calc(100% + 16px)) translateX(-50%); transform: translateY(calc(100% + 16px)) translateX(-50%); width: 100px; text-align: center; bottom: 0; top: auto; right: auto; } #antavo-widget.always-on .antavo-widget-tooltip:after { display: none; } #antavo-widget:hover .antavo-widget-tooltip { display: block; } #antavo-widget.reward:after { display: none; } #antavo-widget .antavo-widget-tooltip { position: absolute; display: none; width: 200px; right: 80px; background: #2b2b2b; color: #FFF; font-size: 10px; line-height: 14px; padding: 8px; top: 50%; -webkit-transform: translateY(-50%); -ms-transform: translateY(-50%); -moz-transform: translateY(-50%); -o-transform: translateY(-50%); transform: translateY(-50%); } #antavo-widget .antavo-widget-tooltip:after { left: 100%; top: 50%; border: solid transparent; content: \" \"; height: 0; width: 0; position: absolute; pointer-events: none; border-color: rgba(43, 43, 43, 0); border-left-color: #2b2b2b; border-width: 5px; margin-top: -5px; } #antavo-widget a { position: relative; width: 100%; height: 100%; display: block; } #antavo-widget:after { position: absolute; content: attr(customer); display: block; height: 16px; border-radius: 8px; background-color: #000; color: #FFF; text-align: center; font-size: 10px; font-family: Arial, Helvetica, sans-serif; box-sizing: border-box; width: auto; left: 50%; -webkit-transform: translateX(-50%); -ms-transform: translateX(-50%); -moz-transform: translateX(-50%); -o-transform: translateX(-50%); transform: translateX(-50%); text-transform: uppercase; bottom: -16px; padding-left: 12px; padding-right: 12px; max-width: 90px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; } #antavo-widget.show { opacity: 1; -webkit-transform: scale(1); -ms-transform: scale(1); -moz-transform: scale(1); -o-transform: scale(1); transform: scale(1); } #antavo-widget.bottom-right { bottom: 30px; right: 46px; top: auto; } #antavo-widget.bottom-left { bottom: 30px; right: auto; left: 46px; top: auto; } #antavo-widget.top-left { top: 30px; right: auto; left: 46px; } #antavo-widget.announce { background: #f86702; background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2Y4NjcwMiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmMjNjMDkiIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+); background: -moz-linear-gradient(top, #f86702 0%, #f23c09 100%); background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #f86702), color-stop(100%, #f23c09)); background: -webkit-linear-gradient(top, #f86702 0%, #f23c09 100%); background: -o-linear-gradient(top, #f86702 0%, #f23c09 100%); background: -ms-linear-gradient(top, #f86702 0%, #f23c09 100%); background: linear-gradient(to bottom, #f86702 0%, #f23c09 100%); filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#f86702', endColorstr='#f23c09',GradientType=0 ); } #antavo-widget.announce #antavo-widget-customer-avatar { -webkit-transform: scale(0) rotate(180deg); -ms-transform: scale(0) rotate(180deg); -moz-transform: scale(0) rotate(180deg); -o-transform: scale(0) rotate(180deg); transform: scale(0) rotate(180deg); } #antavo-widget.sticky { background: #9cd5cd; border-radius: 12px; padding: 10px; height: 100px; width: 100px; border: 0; } #antavo-widget.sticky .antavo-widget-tooltip { background: #81bfb7; border-radius: 6px; } #antavo-widget.sticky .antavo-widget-tooltip:after { border-left-color: #81bfb7; } #antavo-widget.sticky.top-right, #antavo-widget.sticky.bottom-right { right: 0; border-top-right-radius: 0; border-bottom-right-radius: 0; } #antavo-widget.sticky.top-right .antavo-widget-tooltip, #antavo-widget.sticky.bottom-right .antavo-widget-tooltip { right: 110px; } #antavo-widget.sticky.top-left, #antavo-widget.sticky.bottom-left { left: 0; border-top-left-radius: 0; border-bottom-left-radius: 0; } #antavo-widget.sticky.top-left .antavo-widget-tooltip:after, #antavo-widget.sticky.bottom-left .antavo-widget-tooltip:after { border-left-color: transparent; border-right-color: #81BFB7; } #antavo-widget.sticky #antavo-widget-inner { width: 80px; height: 80px; border: 6px solid #fff; box-sizing: border-box; } #antavo-widget.sticky.filled .antavo-widget-tooltip { display: block; position: absolute; top: 100%; left: 0; width: 100%; right: 10px; word-wrap: break-word; border-top-left-radius: 0; border-top-right-radius: 0; -webkit-transform: translate( 0, 0); -ms-transform: translate( 0, 0); -moz-transform: translate( 0, 0); -o-transform: translate( 0, 0); transform: translate( 0, 0); } #antavo-widget.sticky.filled .antavo-widget-tooltip:after { content: none; } #antavo-widget.sticky.filled.top-right, #antavo-widget.sticky.filled.bottom-right { border-bottom-left-radius: 0; } #antavo-widget.sticky.filled.top-right .antavo-widget-tooltip, #antavo-widget.sticky.filled.bottom-right .antavo-widget-tooltip { left: 0; right: 0; border-bottom-right-radius: 0; } #antavo-widget.sticky.filled.top-left, #antavo-widget.sticky.filled.bottom-left { border-bottom-right-radius: 0; } #antavo-widget.sticky.filled.top-left .antavo-widget-tooltip, #antavo-widget.sticky.filled.bottom-left .antavo-widget-tooltip { right: 0; left: 0; border-bottom-left-radius: 0; } #antavo-widget-customer-avatar { background-size: cover; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border-radius: 50%; -webkit-transition: all 0.75s ease-in-out; -ms-transition: all 0.75s ease-in-out; -moz-transition: all 0.75s ease-in-out; -o-transition: all 0.75s ease-in-out; transition: all 0.75s ease-in-out; } #antavo-widget-inner { width: 70px; height: 70px; border-radius: 50%; overflow: hidden; } #antavo-widget-inner .antavo-widget-graphics { width: 100%; height: 100%; background-size: cover; background-position: 50% 0; background-repeat: no-repeat; } #antavo-widget-inner .points-available, #antavo-widget-inner .counter { color: #FFF; font-size: 12px; line-height: 14px; left: 0; position: absolute; text-align: center; text-transform: uppercase; top: 50%; width: 100%; -webkit-transform: translateY(-50%); -ms-transform: translateY(-50%); -moz-transform: translateY(-50%); -o-transform: translateY(-50%); transform: translateY(-50%); } #antavo-widget-inner .points-available span, #antavo-widget-inner .counter span { display: block; font-weight: 700; font-size: 24px; line-height: 24px; } #antavo-widget-inner .points-available.counter, #antavo-widget-inner .counter.counter { font-size: 10px; line-height: 12px; top: 8px; height: 100%; -webkit-transform: translateY(0); -ms-transform: translateY(0); -moz-transform: translateY(0); -o-transform: translateY(0); transform: translateY(0); } #antavo-widget-inner .points-available.counter span, #antavo-widget-inner .counter.counter span { background: #f86702; border-radius: 12px; font-size: 16px; line-height: 16px; position: absolute; left: 50%; padding: 4px 12px; -webkit-transform: translateX(-50%); -ms-transform: translateX(-50%); -moz-transform: translateX(-50%); -o-transform: translateX(-50%); transform: translateX(-50%); white-space: nowrap; } #antavo-widget-inner .points-available.counter em, #antavo-widget-inner .counter.counter em { color: #FFF; display: inline-block; font-style: normal; position: absolute; bottom: 12px; left: 50%; -webkit-transform: translateX(-50%); -moz-transform: translateX(-50%); -ms-transform: translateX(-50%); -o-transform: translateX(-50%); transform: translateX(-50%); } #antavo-widget-inner canvas { border-radius: 50%; opacity: .3; -webkit-animation-name: spin; -ms-animation-name: spin; -moz-animation-name: spin; -o-animation-name: spin; animation-name: spin; -webkit-animation-duration: 10s; -ms-animation-duration: 10s; -moz-animation-duration: 10s; -o-animation-duration: 10s; animation-duration: 10s; -webkit-animation-fill-mode: both; -ms-animation-fill-mode: both; -moz-animation-fill-mode: both; -o-animation-fill-mode: both; animation-fill-mode: both; -webkit-animation-iteration-count: infinite; -ms-animation-iteration-count: infinite; -moz-animation-iteration-count: infinite; -o-animation-iteration-count: infinite; animation-iteration-count: infinite; } /* Animations */ @-moz-keyframes spin { from { -moz-transform: rotate(0deg); } to { -moz-transform: rotate(360deg); } } @-webkit-keyframes spin { from { -webkit-transform: rotate(0deg); } to { -webkit-transform: rotate(360deg); } } @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } } @media (max-device-width: 640px) { #antavo-widget-frame { width: 100%; } } /*# sourceMappingURL=widget.css.map */");
Antavo.Widget.setTemplate('<div style="display:none;" id="antavo-widget" customer=><a id="antavo-widget-opener"  role="button"><div id="antavo-widget-inner"></div><div id="antavo-widget-customer-avatar"></div></a></div>');
